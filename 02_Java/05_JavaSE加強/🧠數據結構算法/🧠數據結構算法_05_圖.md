# æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–
![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_01_ç„¡å‘åœ–.png]]

- å®šç¾©ï¼šåœ–æ˜¯ç”±é ‚é»çš„æœ‰çª®éç©ºé›†åˆå’Œé ‚é»ä¹‹é–“é‚Šçš„é›†åˆçµ„æˆ
- å¸¸è¦‹è¡“èªï¼š
	- ç›¸é„°é ‚é»ï¼šå…©å€‹é ‚é»é€šéä¸€æ¢é‚Šç›¸é€£ï¼Œæ­¤æ™‚é€™å…©å€‹é ‚é»äº’ç‚ºç›¸é„°é ‚é»
	- åº¦ï¼šæœ‰å¹¾æ¢é‚Šä¾é™„é€™å€‹é ‚é»
	- å­åœ–ï¼šå¤§åœ–æ‰€åŒ…å«çš„å¥½å¹¾å€‹å°åœ–ï¼Œé€™äº›å°åœ–å«å­åœ–
	- è·¯å¾‘ï¼šå¾ä¸€å€‹é ‚é»åˆ°å¦ä¸€å€‹é ‚é»è¦ç¶“éçš„é ‚é»æ•¸
	- ç’°ï¼šèµ·é»å’Œçµ‚é»ç›¸åŒ
	- é€£é€šåœ–ï¼šåœ–ä¸­æ‰€æœ‰çš„é ‚é»éƒ½ç›¸é€£(ç›´æ¥/é–“æ¥)
	- é€£é€šå­åœ–ï¼šéé€£é€šåœ–æœ‰å¹¾å€‹é€£é€šåœ–çµ„æˆï¼Œé€™äº›é€£é€šåœ–å«é€£é€šå­åœ–

## ğŸ§ é„°æ¥çŸ©é™£ Adjacency Matrix
é„°æ¥çŸ©é™£æ˜¯ç”¨äºŒç¶­æ•¸çµ„ä¾†è¡¨ç¤ºæœ‰é™åœ–ã€‚æ¯å€‹å…ƒç´ ä»£è¡¨å„é»ä¹‹é–“æ˜¯å¦æœ‰é‚Šç›¸é€£ï¼Œ0ä»£è¡¨ä¸ç›¸é€£ï¼Œ1ä»£è¡¨ç›¸é€£ã€‚æ­¤åšæ³•çš„ç¼ºé»æ˜¯æœƒä½¿ç”¨åˆ°å¾ˆå¤šå…§å­˜ç©ºé–“ã€‚
![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_02_é„°æ¥çŸ©é™£.png]]

## ğŸ§ é„°æ¥è¡¨ Adjacency List
å°æ–¼åœ–ä¸­çš„æ¯å€‹é ‚é»ï¼Œå°‡å„²å­˜æ‰€æœ‰å…¶å®ƒèˆ‡ä¹‹ç›¸é€£çš„é ‚é»
![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_03_é„°æ¥è¡¨.png]]

| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                      |
| --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T145_AdjacencyList`                                                                                                                                                                                                                         |
| æ§‹é€ æ–¹æ³•  | `T145_AdjacencyList(int pointCount)`                                                                                                                                                                                                         |
| æˆå“¡è®Šé‡  | `private int pointCount`é ‚é»æ•¸é‡</br>`private int lineCount`é‚Šæ•¸é‡</br>`private T072_Queue<Integer>[] adjList`é„°æ¥è¡¨                                                                                                                         |
| æ–¹æ³•      | `public int getPointCount()`å–å¾—åœ–ä¸­é ‚é»æ•¸</br>`getLineCount()`å–å¾—åœ–ä¸­é‚Šæ•¸</br>`public void addLine(Integer point1, Integer point2)`åœ¨å…©é ‚é»é–“æ–°å¢é‚Š</br>`public T072_Queue<Integer> getLineByPoint(Integer point)`å–å¾—èˆ‡æŒ‡å®šé ‚é»ç›¸é€£çš„é ‚é» |

```java
public class T145_AdjacencyList {
    // é ‚é»æ•¸é‡
    private int pointCount;
    // é‚Šæ•¸é‡
    private int lineCount;
    // é„°æ¥è¡¨
    private T072_Queue<Integer>[] adjList;

    public T145_AdjacencyList(int pointCount) {
        super();
        this.pointCount = pointCount;
        this.lineCount = 0;
        this.adjList = new T072_Queue[pointCount];
        for (int i = 0; i < this.adjList.length; i++) {
            this.adjList[i] = new T072_Queue<Integer>();
        }
    }

    /**
     * å–å¾—åœ–ä¸­é ‚é»æ•¸
     * 
     * @return
     */
    public int getPointCount() {
        return this.pointCount;
    }

    /**
     * å–å¾—åœ–ä¸­é‚Šæ•¸
     * 
     * @return
     */
    public int getLineCount() {
        return this.lineCount;
    }

    /**
     * åœ¨å…©é ‚é»é–“æ–°å¢é‚Š
     * 
     * @param point1
     * @param point2
     */
    public void addLine(Integer point1, Integer point2) {
        // å…©é ‚é»å¿…é ˆåœ¨é„°æ¥è¡¨ä¸­
        if (point1 >= this.adjList.length || point2 >= this.adjList.length) {
            return;
        }
        // å…©é ‚é»å¿…é ˆç›¸äº’æ²’é€£æ¥
        Iterator<Integer> iterator1 = this.adjList[point1].iterator();
        Iterator<Integer> iterator2 = this.adjList[point2].iterator();
        while (iterator1.hasNext()) {
            if (iterator1.next() == point2) {
                return;
            }
        }
        while (iterator2.hasNext()) {
            if (iterator2.next() == point1) {
                return;
            }
        }
        // å…©é ‚é»æ–°å¢é‚Š
        this.adjList[point1].enqueue(point2);
        this.adjList[point2].enqueue(point1);
        this.lineCount++;
    }

    /**
     * å–å¾—èˆ‡æŒ‡å®šé ‚é»ç›¸é€£çš„é ‚é»
     * 
     * @param point
     * @return
     */
    public T072_Queue<Integer> getLineByPoint(Integer point) {
        return this.adjList[point];
    }

    @Override
    public String toString() {
        String returnFormat = "T145_AdjacencyList [\n\tpointCount=%s, \n\t" + "lineCount=%s, \n\t" + "adjList=\n%s\n]";
        String queueFormat = "\t\t%s , T072_Queue [%s]";
        List<String> queueStrList = new ArrayList<String>();
        for (int i = 0; i < this.adjList.length; i++) {
            List<String> tempStrList = new ArrayList<String>();
            Iterator<Integer> iterator = this.adjList[i].iterator();
            while (iterator.hasNext()) {
                tempStrList.add(Integer.toString(iterator.next()));
            }
            queueStrList.add(String.format(queueFormat, i, String.join(", ", tempStrList)));
        }
        return String.format(returnFormat, this.pointCount, this.lineCount, String.join(", \n", queueStrList));
    }
}
```

## ğŸ§ åœ–çš„æœç´¢
### æ·±åº¦å„ªå…ˆæœç´¢
åœ¨æœç´¢æ™‚é‡åˆ°ä¸€å€‹é ‚é»æœ‰å­ç¯€é»åˆæœ‰å…„å¼Ÿç¯€é»ï¼Œå‰‡å…ˆæ‰¾å­ç¯€é»ï¼Œå†æ‰¾å…„å¼Ÿç¯€é»

| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                 |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T147_DepthFirstSearch`                                                                                                                                                                                                                                 |
| æ§‹é€ æ–¹æ³•  | `T147_DepthFirstSearch(T145_AdjacencyList adjList, Integer searchPoint)`                                                                                                                                                                                |
| æˆå“¡è®Šé‡  | `private boolean[] isSearched`é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜</br>`private int connectCount`æœ‰å¤šå°‘é ‚é»èˆ‡æŒ‡å®šé ‚é»ç›¸é€£                                                                                                                                               |
| æ–¹æ³•      | `private void getConnectPoint(T145_AdjacencyList adjList, Integer point)`å–å¾—èˆ‡èµ·å§‹é ‚é»ç›¸é€šçš„é ‚é»</br>`public boolean isConnectWithSearchPoint(Integer point)`åˆ¤æ–·æŒ‡å®šé»æ˜¯å¦èˆ‡èµ·å§‹é ‚é»ç›¸é€£</br>`getConnectSearchPointCount()`å–å¾—èˆ‡èµ·å§‹é ‚é»ç›¸é€£çš„é ‚é»æ•¸ |

```java
public class T147_DepthFirstSearch {
    // é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜
    private boolean[] isSearched;
    // æœ‰å¤šå°‘é ‚é»èˆ‡æŒ‡å®šé ‚é»ç›¸é€£
    private int connectCount;

    public T147_DepthFirstSearch(T145_AdjacencyList adjList, Integer searchPoint) {
        super();
        this.isSearched = new boolean[adjList.getPointCount()];
        this.connectCount = 0;
        this.getConnectPoint(adjList, searchPoint);
    }

    /**
     * å–å¾—èˆ‡æŒ‡å®šé ‚é»ç›¸é€šçš„é ‚é»
     * 
     * @param adjList
     * @param point
     */
    private void getConnectPoint(T145_AdjacencyList adjList, Integer point) {
        // åœ–ä¸­ç„¡æŸ¥è©¢é ‚é»
        if (point >= adjList.getPointCount()) {
            return;
        }
        this.isSearched[point] = true;
        // æŸ¥è©¢ç›¸é€£é ‚é»
        for (Integer nextPoint : adjList.getLineByPoint(point)) {
            // ä¸‹å€‹é ‚é»è‹¥è¢«æœç´¢éï¼Œå‰‡è·³é
            if (this.isSearched[nextPoint]) {
                continue;
            }
            this.getConnectPoint(adjList, nextPoint);
        }
        this.connectCount++;
    }

    /**
     * åˆ¤æ–·æŒ‡å®šé»æ˜¯å¦èˆ‡èµ·å§‹é ‚é»ç›¸é€£
     * 
     * @param point
     * @return
     */
    public boolean isConnectWithSearchPoint(Integer point) {
        return this.isSearched[point];
    }

    /**
     * å–å¾—èˆ‡èµ·å§‹é ‚é»ç›¸é€£çš„é ‚é»æ•¸
     * 
     * @return
     */
    public int getConnectSearchPointCount() {
        return this.connectCount;
    }
}
```

### å»£åº¦å„ªå…ˆæœç´¢
åœ¨æœç´¢æ™‚é‡åˆ°ä¸€å€‹é ‚é»æœ‰å­ç¯€é»åˆæœ‰å…„å¼Ÿç¯€é»ï¼Œå‰‡å…ˆæ‰¾å…„å¼Ÿç¯€é»ï¼Œå†æ‰¾å­ç¯€é»ï¼›å¯¦ç¾æ–¹æ³•èˆ‡äºŒå‰æ¨¹å±¤åºéæ­·é¡ä¼¼(å¯åƒè€ƒï¼š[[ğŸ§ æ•¸æ“šçµæ§‹ç®—æ³•_04_æ¨¹]])ã€‚

| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                            |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| é¡        | `T150_BreadthFirstSearch`                                                                                                                                                                                                                                          |
| æ§‹é€ æ–¹æ³•  | `T150_BreadthFirstSearch(T145_AdjacencyList adjList, Integer searchPoint)`                                                                                                                                                                                         |
| æˆå“¡è®Šé‡  | `private boolean[] isSearched`é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜</br>`private int connectCount`æœ‰å¤šå°‘é ‚é»èˆ‡æŒ‡å®šé ‚é»ç›¸é€£</br>`private T072_Queue<Integer> searchWaitList`==ç­‰å¾…æŸ¥è©¢åˆ—è¡¨==                                                                                         |
| æ–¹æ³•      | `private void getConnectPoint(T145_AdjacencyList adjList, Integer point)`å–å¾—èˆ‡èµ·å§‹é ‚é»ç›¸é€šçš„é ‚é»</br>`public boolean isConnectWithSearchPoint(Integer point)`åˆ¤æ–·æŒ‡å®šé»æ˜¯å¦èˆ‡èµ·å§‹é ‚é»ç›¸é€£</br>`public int getConnectSearchPointCount()`å–å¾—èˆ‡èµ·å§‹é ‚é»ç›¸é€£çš„é ‚é»æ•¸ |

```java
/**
 * å–å¾—èˆ‡æŒ‡å®šé ‚é»ç›¸é€šçš„é ‚é»
 * 
 * @param adjList
 * @param point
 */
private void getConnectPoint(T145_AdjacencyList adjList, Integer point) {
	// åœ–ä¸­ç„¡æŸ¥è©¢é ‚é»
	if (point >= adjList.getPointCount()) {
		return;
	}
	// é ‚é»ç„¡å­ç¯€é»
	if (adjList.getLineByPoint(point).getLen() == 0) {
		return;
	}
	this.isSearched[point] = true;
	// å…ˆå°‡æ‰€æœ‰å…„å¼Ÿç¯€é»åŠ å…¥å¾…æŸ¥è©¢åˆ—è¡¨
	for (Integer nextPoint : adjList.getLineByPoint(point)) {
		this.searchWaitList.enqueue(nextPoint);
	}
	// ä¾åºæŸ¥è©¢å¾…æŸ¥è©¢åˆ—è¡¨çš„ç›¸é€£é ‚é»
	while (this.searchWaitList.getLen() > 0) {
		Integer searchPoint = this.searchWaitList.dequeue();
		// é ‚é»è‹¥è¢«æœç´¢éï¼Œå‰‡è·³é
		if (this.isSearched[searchPoint]) {
			continue;
		}
		this.getConnectPoint(adjList, searchPoint);
	}
	this.connectCount++;
}
```

## ğŸ§ è·¯å¾‘æŸ¥æ‰¾
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                     |
| --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T153_DepthFirstPaths`                                                                                                                                                                                                                                      |
| æ§‹é€ æ–¹æ³•  | `T153_DepthFirstPaths(T145_AdjacencyList adjList, Integer startPoint)`                                                                                                                                                                                      |
| æˆå“¡è®Šé‡  | `private boolean[] isSearched`é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜</br>`private int startPoint`æŸ¥è©¢èµ·é»</br>`private int[] priviousPoint`ç´¢å¼•ä»£è¡¨é ‚é»ï¼Œå€¼ä»£è¡¨èµ·ä¾†åˆ°æ­¤é ‚è·¯çš„ä¸Šå€‹ä¸€é ‚é»                                                                                       |
| æ–¹æ³•      | `private void getConnectPoint(T145_AdjacencyList adjList, Integer point)`å–å¾—èˆ‡èµ·å§‹é ‚é»ç›¸é€šçš„é ‚é»</br>`public boolean isSamePath(int point1, int point2)`åˆ¤æ–·å…©é ‚é»æ˜¯å¦åœ¨åŒä¸€è·¯å¾‘</br>`public T066_Stack<Integer> getPath(int point)`å–å¾—èµ·é»åˆ°æŒ‡å®šé»çš„è·¯å¾‘ |

```java
public class T153_DepthFirstPaths {
    // æŸ¥è©¢èµ·é»
    private int startPoint;
    // é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜
    private boolean[] isSearched;
    // ç´¢å¼•ä»£è¡¨é ‚é»ï¼Œå€¼ä»£è¡¨èµ·ä¾†åˆ°æ­¤é ‚è·¯çš„ä¸Šå€‹ä¸€é ‚é»
    private int[] priviousPoint;

    public T153_DepthFirstPaths(T145_AdjacencyList adjList, int startPoint) {
        super();
        this.startPoint = startPoint;
        this.isSearched = new boolean[adjList.getPointCount()];
        this.priviousPoint = new int[adjList.getPointCount()];
        this.priviousPoint[startPoint] = -1;// è¡¨ç¤ºèµ·é»
        this.getConnectPoint(adjList, startPoint);
    }

    /**
     * å–å¾—èˆ‡æŒ‡å®šé ‚é»ç›¸é€šçš„é ‚é»
     * 
     * @param adjList
     * @param point
     */
    private void getConnectPoint(T145_AdjacencyList adjList, int point) {
        // åœ–ä¸­ç„¡æŸ¥è©¢é ‚é»
        if (point >= adjList.getPointCount()) {
            return;
        }
        this.isSearched[point] = true;
        for (Integer nextPoint : adjList.getLineByPoint(point)) {
            // é ‚é»è‹¥è¢«æœç´¢éï¼Œå‰‡è·³é
            if (this.isSearched[nextPoint]) {
                continue;
            }
            this.priviousPoint[nextPoint] = point;
            this.getConnectPoint(adjList, nextPoint);
        }
    }

    /**
     * åˆ¤æ–·å…©é ‚é»æ˜¯å¦åœ¨åŒä¸€è·¯å¾‘
     * 
     * @param point1
     * @param point2
     * @return
     */
    public boolean isSamePath(int point1, int point2) {
        // å–å¾—èµ·é»åˆ†åˆ¥åˆ°å…©å€‹é»çš„è·¯å¾‘
        T066_Stack<Integer> path1 = this.getPath(point1);
        T066_Stack<Integer> path2 = this.getPath(point2);
        // åˆ¤æ–·å…©é‚Šè·¯å¾‘æ˜¯å¦æœ‰å¦ä¸€å€‹é ‚é»
        while (!path1.isEmpty()) {
            if (path1.pop().compareTo(Integer.valueOf(point2)) == 0) {
                return true;
            }
        }
        while (!path2.isEmpty()) {
            if (path2.pop().compareTo(Integer.valueOf(point1)) == 0) {
                return true;
            }
        }
        // æ‰¾ä¸åˆ°ä»£è¡¨ä¸åœ¨åŒä¸€è·¯å¾‘
        return false;
    }

    /**
     * å–å¾—èµ·é»åˆ°æŒ‡å®šé»çš„è·¯å¾‘
     * 
     * @param point
     * @return
     */
    public T066_Stack<Integer> getPath(int point) {
        T066_Stack<Integer> stack = new T066_Stack<Integer>();
        // åœ–ä¸­ç„¡æŸ¥è©¢é ‚é»
        if (point >= this.priviousPoint.length) {
            return stack;
        }
        // æŒ‡å®šé ‚é»å’Œèµ·é»ç„¡é€£çµ
        if (!this.isSearched[point]) {
            return stack;
        }
        // å¾æŒ‡å®šé ‚é»é–‹å§‹æ‰¾åˆ°èµ·é»
        int searchPoint = point;
        while (true) {
            stack.push(searchPoint);
            if (this.priviousPoint[searchPoint] == -1) {
                return stack;
            }
            searchPoint = this.priviousPoint[searchPoint];
        }
    }
}
```

# æœ‰å‘åœ– Digraph
![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_04_æœ‰å‘åœ–.png]]
- å¸¸è¦‹è¡“èªï¼š
	- å‡ºåº¦ï¼šç”±æŸå€‹é ‚é»æŒ‡å‡ºé‚Šçš„å€‹æ•¸
	- å…¥åº¦ï¼šæŒ‡å‘æŸå€‹é ‚é»çš„é‚Šå€‹æ•¸

| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                                                                      |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| é¡        | `T158_Digraph`                                                                                                                                                                                                                                                                                               |
| æ§‹é€ æ–¹æ³•  | `public T158_Digraph(int pointCount)`                                                                                                                                                                                                                                                                        |
| æˆå“¡è®Šé‡  | `private int pointCount`é ‚é»æ•¸é‡</br>`private int LineCount`é‚Šçš„æ•¸é‡</br>`private T072_Queue<Integer>[] adjList`é„°æ¥è¡¨                                                                                                                                                                                       |
| æ–¹æ³•      | `public int getPointCount()`å–å¾—åœ–çš„é ‚é»æ•¸</br>`public int getLineCount()`å–å¾—åœ–ä¸­é‚Šçš„æ•¸é‡</br>`public void addLine(int point1, int point2)`æ·»åŠ point1æŒ‡å‘point2çš„é‚Š</br>`public T072_Queue<Integer> getLineByPoint(int point)`å–å¾—èˆ‡æŒ‡å®šé ‚é»ç›¸é€£çš„é ‚é»</br>`private T158_Digraph reverse()`å–å¾—è©²åœ–çš„åå‘åœ– |

```java
public class T158_Digraph {
    // é ‚é»æ•¸é‡
    private int pointCount;
    // é‚Šçš„æ•¸é‡
    private int lineCount;
    // é„°æ¥è¡¨
    private T072_Queue<Integer>[] adjList;

    public T158_Digraph(int pointCount) {
        super();
        this.pointCount = pointCount;
        this.lineCount = 0;
        this.adjList = new T072_Queue[pointCount];
        for (int i = 0; i < this.adjList.length; i++) {
            this.adjList[i] = new T072_Queue<Integer>();
        }
    }

    /**
     * å–å¾—åœ–çš„é ‚é»æ•¸
     * 
     * @return
     */
    public int getPointCount() {
        return this.pointCount;
    }

    /**
     * å–å¾—åœ–ä¸­é‚Šçš„æ•¸é‡
     * 
     * @return
     */
    public int getLineCount() {
        return this.lineCount;
    }

    /**
     * æ·»åŠ point1æŒ‡å‘point2çš„é‚Š
     * 
     * @param startPoint
     * @param endPoint
     */
    public void addLine(int startPoint, int endPoint) {
        // åœ–ä¸­ç„¡æŸ¥è©¢é ‚é»
        if (startPoint >= this.adjList.length || endPoint >= this.adjList.length) {
            return;
        }
        // å¦‚æœstartPointå·²ç¶“æŒ‡å‘endPointï¼Œå‰‡ä¸åšå‹•ä½œ
        for (Integer point : this.adjList[startPoint]) {
            if (point == endPoint) {
                return;
            }
        }
        // å‘startPointæ·»åŠ endPoint
        this.adjList[startPoint].enqueue(endPoint);
        this.lineCount++;
    }

    /**
     * å–å¾—èˆ‡æŒ‡å®šé ‚é»ç›¸é€£çš„é ‚é»
     * 
     * @param point
     * @return
     */
    public T072_Queue<Integer> getLineByPoint(int point) {
        // å–å¾—æŒ‡å®šé ‚é»æŒ‡å‘çš„é ‚é»
        T072_Queue<Integer> returnQueue = this.adjList[point];
        // å–å¾—åå‘åœ–å¾Œï¼Œå†å–å¾—æŒ‡å‘æŒ‡å®šé ‚é»çš„é ‚é»
        for (Integer startPoint : this.reverse().adjList[point]) {
            // å¦‚æœé ‚é»å·²ç¶“åœ¨éšŠåˆ—ä¸­ï¼Œå°±ä¸é‡è¦†åŠ (é˜²æ­¢é›™å‘é‚Š)
            boolean isAdded = false;
            for (Integer returnPoint : returnQueue) {
                if (returnPoint == startPoint) {
                    isAdded = true;
                    break;
                }
            }
            if (!isAdded) {
                returnQueue.enqueue(startPoint);
            }
        }
        return returnQueue;
    }

    /**
     * å–å¾—è©²åœ–çš„åå‘åœ–
     * 
     * @return
     */
    private T158_Digraph reverse() {
        T158_Digraph reverseDigraph = new T158_Digraph(this.pointCount);
        for (int i = 0; i < this.adjList.length; i++) {
            Integer endPoint = i;
            for (Integer startPoint : this.adjList[i]) {
                reverseDigraph.addLine(startPoint, endPoint);
            }
        }
        return reverseDigraph;
    }

    @Override
    public String toString() {
        String returnFormat = "T158_Digraph [\n\tpointCount=%s, \n\t" + "lineCount=%s, \n\t" + "adjList=\n%s\n]";
        String queueFormat = "\t\t%s , T072_Queue [%s]";
        List<String> queueStrList = new ArrayList<String>();
        for (int i = 0; i < this.adjList.length; i++) {
            List<String> tempStrList = new ArrayList<String>();
            Iterator<Integer> iterator = this.adjList[i].iterator();
            while (iterator.hasNext()) {
                tempStrList.add(Integer.toString(iterator.next()));
            }
            queueStrList.add(String.format(queueFormat, i, String.join(", ", tempStrList)));
        }
        return String.format(returnFormat, this.pointCount, this.lineCount, String.join(", \n", queueStrList));
    }
}
```

## ğŸ§ æ‹“æ‰‘æ’åº Topological Sort
æ‹“æ‰‘æ’åºæ˜¯ç”¨ä¾†æ’åºä¸€å¼µæœ‰å‘åœ–çš„é»çš„æ–¹å¼ã€‚æŠŠåœ–ä¸Šä¸€æ¢ç”± A é»é€£å‘ B é»çš„é‚Šï¼Œæƒ³æˆæ˜¯ A å¿…é ˆæ’åœ¨ B å‰æ–¹ã€‚
==æ‹“æ‰‘æ’åº = æœ‰ç’°åˆ¤æ–· + é ‚é»æ’åº==
![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_05_æ‹“æ‰‘æ’åº.png]]

### æª¢æ¸¬æœ‰å‘åœ–ä¸­çš„ç’°
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                               |
| --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T160_DirectedCycle`                                                                                                                                                                                  |
| æ§‹é€ æ–¹æ³•  | `public T160_DirectedCycle(T158_Digraph digraph)`                                                                                                                                                     |
| æˆå“¡è®Šé‡  | `private boolean[] isSearch`é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜</br>`private boolean hasCycle`åœ–ä¸­æ˜¯å¦æœ‰ç’°</br>`private boolean[] onStack`ç´¢å¼•ä»£è¡¨é ‚é»ï¼Œä½¿ç”¨æ£§çš„æ€æƒ³ï¼Œè¨˜éŒ„ç•¶å‰é ‚é»æœ‰æ²’æœ‰å·²ç¶“è™•æ–¼æ­£åœ¨æœç´¢çš„æœ‰å‘è·¯å¾‘ä¸Š |
| æ–¹æ³•      | `public boolean hasCycle()`åˆ¤æ–·åœ–ä¸­æ˜¯å¦æœ‰ç’°</br>`private void getConnectPoint(T158_Digraph digraph, int startPoint)`åŸºæ–¼æ·±åº¦å„ªå…ˆæœç´¢ï¼Œæª¢æ¸¬åœ–ä¸­æ˜¯å¦æœ‰ç’°                                                |

```java
public class T160_DirectedCycle {
    // é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜
    private boolean[] isSearch;
    // åœ–ä¸­æ˜¯å¦æœ‰ç’°
    private boolean hasCycle;
    // ç´¢å¼•ä»£è¡¨é ‚é»ï¼Œä½¿ç”¨æ£§çš„æ€æƒ³ï¼Œè¨˜éŒ„ç•¶å‰é ‚é»æœ‰æ²’æœ‰å·²ç¶“è™•æ–¼æ­£åœ¨æœç´¢çš„æœ‰å‘è·¯å¾‘ä¸Š
    private boolean[] onStack;

    public T160_DirectedCycle(T158_Digraph digraph) {
        super();
        this.isSearch = new boolean[digraph.getPointCount()];
        this.onStack = new boolean[digraph.getPointCount()];
        this.hasCycle = false;
        // ç‚ºé˜²æ­¢åœ–å¤šæœ‰å­åœ–ï¼Œå› æ­¤å°‡æ¯å€‹é ‚é»éƒ½ä½œç‚ºå…¥å£æŸ¥æ‰¾åœ–ä¸­çš„ç’°
        for (int i = 0; i < this.isSearch.length; i++) {
            // æœ‰æœç´¢éå°±ä¸ç”¨å†æ‰¾
            if (this.isSearch[i]) {
                continue;
            }
            this.getConnectPoint(digraph, i);
            // è‹¥æœ‰æœç´¢åˆ°ç’°ï¼Œä¸ç”¨å†æª¢æŸ¥
            if (this.hasCycle) {
                break;
            }
            // é ‚é»æª¢æŸ¥å®Œï¼Œå°‡ç•¶å‰é ‚é»å‡ºæ£§
            this.onStack[i] = false;
            for (int j = 0; j < this.onStack.length; j++) {
                this.onStack[j] = false;
            }
        }
    }

    /**
     * åˆ¤æ–·åœ–ä¸­æ˜¯å¦æœ‰ç’°
     * 
     * @return
     */
    public boolean hasCycle() {
        return this.hasCycle;
    }

    /**
     * åŸºæ–¼æ·±åº¦å„ªå…ˆæœç´¢ï¼Œæª¢æ¸¬åœ–ä¸­æ˜¯å¦æœ‰ç’°
     * 
     * @param digraph
     */
    private void getConnectPoint(T158_Digraph digraph, int startPoint) {
        this.isSearch[startPoint] = true;
        this.onStack[startPoint] = true;
        for (Integer nextPoint : digraph.getLineByStartPoint(startPoint)) {
            // é ‚é»å­˜åœ¨æ£§ä¸­ï¼Œä»£è¡¨åœ–ä¸­å­˜åœ¨ç’°
            if (this.onStack[nextPoint]) {
                this.hasCycle = true;
                return;
            }
            this.getConnectPoint(digraph, nextPoint);
        }
    }

    @Override
    public String toString() {
        return "T160_DirectedCycle ["//
                + "\n\tisSearch=" + Arrays.toString(isSearch) + ", "//
                + "\n\thasCycle=" + hasCycle + ", "//
                + "\n\tonStack=" + Arrays.toString(onStack) + //
                "\n]";
    }
}
```

### é ‚é»æ’åº
ç•¶åœ–ä¸­ç„¡ç’°æ™‚ï¼Œå°±å¯ä»¥é–‹å§‹é€²è¡Œç”Ÿæˆæœ‰åºçš„ç·šæ€§éšŠåˆ—

| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                         |
| --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T162_DepthFirstOrder`                                                                                                                                                                          |
| æ§‹é€ æ–¹æ³•  | `public T162_DepthFirstOrder(T158_Digraph digraph)`                                                                                                                                             |
| æˆå“¡è®Šé‡  | `private boolean[] isSearch`é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜</br>`private List<List<Integer>> reversePost`é ‚é»è·¯å¾‘ï¼Œä¸€å¼µåœ–å¯èƒ½ç‚ºæœ‰å¤šå€‹è·¯å¾‘                                                                  |
| æ–¹æ³•      | `public List<Integer> reversePost(final int point)`ç²å–é ‚é»æ£§åºåˆ—</br>`private List<Integer> getOrderPoint(final T158_Digraph digraph, final int startPoint)`åŸºæ–¼æ·±åº¦å„ªå…ˆæœç´¢ï¼Œç”Ÿæˆé ‚é»æ£§æ€§åºåˆ— |

```java
public class T162_DepthFirstOrder {
    // é ‚é»æ˜¯å¦è¢«æœç´¢éè¨»è¨˜
    private boolean[] isSearch;
    // é ‚é»è·¯å¾‘ï¼Œä¸€å¼µåœ–å¯èƒ½ç‚ºæœ‰å¤šå€‹è·¯å¾‘
    private List<List<Integer>> reversePost;

    public T162_DepthFirstOrder(final T158_Digraph digraph) throws Exception {
        super();
        this.isSearch = new boolean[digraph.getPointCount()];
        this.reversePost = new ArrayList<>();
        // ç•¶åœ–ä¸­æœ‰ç’°ï¼Œå‰‡ä¸é€²è¡Œå¾ŒçºŒå‹•ä½œ
        if (new T160_DirectedCycle(digraph).hasCycle()) {
            throw new Exception("digraph have cycle.");
        }
        for (int i = 0; i < digraph.getPointCount(); i++) {
            // æ–°çš„è·¯å¾‘ï¼Œå°‡æœç´¢è¨»è¨˜åˆå§‹åŒ–
            for (int j = 0; j < this.isSearch.length; j++) {
                this.isSearch[j] = false;
            }
            // å¦‚æœæ‰¾éå°±ä¸å†æ‰¾
            if (this.isSearch[i]) {
                continue;
            }
            this.reversePost.add(this.getOrderPoint(digraph, i));
        }
    }

    /**
     * ç²å–é ‚é»æ£§åºåˆ—
     *
     * @return
     */
    public List<Integer> reversePost(final int point) {
        // è‹¥è¶…å‡ºæŸ¥è©¢èŒƒåœ
        if (point > this.reversePost.size()) {
            return new ArrayList<>();
        }
        return this.reversePost.get(point);
    }

    /**
     * åŸºæ–¼æ·±åº¦å„ªå…ˆæœç´¢ï¼Œç”Ÿæˆé ‚é»æ£§æ€§åºåˆ—
     */
    private List<Integer> getOrderPoint(final T158_Digraph digraph, final int startPoint) {
        final List<Integer> returnStack = new ArrayList<>();
        // æœ‰æœç´¢éå°±ä¸ç”¨å†æ‰¾
        if (this.isSearch[startPoint]) {
            return returnStack;
        }
        this.isSearch[startPoint] = true;
        returnStack.add(startPoint);
        for (final Integer nextPoint : digraph.getLineByStartPoint(startPoint)) {
            final List<Integer> subStack = this.getOrderPoint(digraph, nextPoint);
            for (final Integer point : subStack) {
                returnStack.add(point);
            }
        }
        return returnStack;
    }
}
```

# åŠ æ¬Šç„¡å‘åœ–
åœ¨ç„¡å‘åœ–çš„åŸºç¤ä¸Šå°é‚Šé€²è¡ŒåŠ æ¬Šï¼Œä»¥ä»£è¡¨è·é›¢æˆ–æ™‚é–“â€¦ç­‰æ„ç¾©ã€‚

## ğŸ§ åŠ æ¬Šç„¡å‘é‚Šé¡
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                             |
| --------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T166_Edge`                                                                                                                         |
| æ§‹é€ æ–¹æ³•  | `T166_Edge(final int point1, final int point2, final double weight)`                                                                |
| æˆå“¡è®Šé‡  | `private int point1`é ‚é»1</br>`private int point2`é ‚é»2</br>`private double weight`é‚Šçš„æ¬Šé‡                                         |
| æ–¹æ³•      | `public double getWeight()`</br>`public int getPoint1()`</br>`public int getPoint2()`</br>`public int compareTo(final T166_Edge o)` |

```java
public class T166_Edge implements Comparable<T166_Edge> {
    // é ‚é»1
    private int point1;
    // é ‚é»2
    private int point2;
    // é‚Šçš„æ¬Šé‡
    private double weight;

	// getter & setterçœç•¥
	
    @Override
    public int compareTo(final T166_Edge o) {
        final double compare = this.weight - o.weight;
        if (compare > 0) {
            return 1;
        } else if (compare == 0) {
            return 0;
        } else {
            return -1;
        }
    }
}
```

## ğŸ§ åŠ æ¬Šç„¡å‘åœ–å¯¦ç¾
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                              |
| --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T167_EdgeWeightGraph`                                                                                                                                                                                                                                               |
| æ§‹é€ æ–¹æ³•  | `T167_EdgeWeightGraph(final int pointCount)`                                                                                                                                                                                                                         |
| æˆå“¡è®Šé‡  | `private int pointCount`é ‚é»æ•¸é‡</br>`private int lineCount`é‚Šæ•¸é‡</br>`private T072_Queue<T166_Edge>[] adjList`é„°æ¥è¡¨                                                                                                                                               |
| æ–¹æ³•      | `public int getPointCount()`</br>`public int getLineCount()`</br>`public void addEdge(final T166_Edge edge)`å…©é ‚é»é–“æ–°å¢é‚Š</br>`public T072_Queue<T166_Edge> getLineByPoint(final int point)`å–å¾—æŒ‡å®šé ‚é»çš„é‚Š</br>`public T072_Queue<T166_Edge> getLine()`å–å¾—æ‰€æœ‰é‚Š |

```java
public class T167_EdgeWeightGraph {
    // é ‚é»æ•¸é‡
    private int pointCount;
    // é‚Šæ•¸é‡
    private int lineCount;
    // é„°æ¥è¡¨
    private T072_Queue<T166_Edge>[] adjList;

    public T167_EdgeWeightGraph(final int pointCount) {
        super();
        this.pointCount = pointCount;
        this.lineCount = 0;
        this.adjList = new T072_Queue[pointCount];
        for (int i = 0; i < this.adjList.length; i++) {
            this.adjList[i] = new T072_Queue<>();
        }
    }

    public int getPointCount() {
        return this.pointCount;
    }

    public int getLineCount() {
        return this.lineCount;
    }

    /**
     * å…©é ‚é»é–“æ–°å¢é‚Š
     *
     * @param edge
     */
    public void addEdge(final T166_Edge edge) {
        // å…©é ‚é»å¿…é ˆåœ¨é„°æ¥è¡¨ä¸­
        if (edge.getPoint1() >= this.adjList.length || edge.getPoint2() >= this.adjList.length) {
            return;
        }
        // å…©é ‚é»å¿…é ˆç›¸äº’æ²’é€£æ¥
        final Iterator<T166_Edge> iterator1 = this.adjList[edge.getPoint1()].iterator();
        while (iterator1.hasNext()) {
            final T166_Edge iteratorEdge = iterator1.next();
            if ((edge.getPoint1() == iteratorEdge.getPoint1() && edge.getPoint2() == iteratorEdge.getPoint2()) || //
                    (edge.getPoint2() == iteratorEdge.getPoint2() && edge.getPoint1() == iteratorEdge.getPoint2())) {
                return;
            }
        }
        final Iterator<T166_Edge> iterator2 = this.adjList[edge.getPoint2()].iterator();
        while (iterator2.hasNext()) {
            final T166_Edge iteratorEdge = iterator2.next();
            if ((edge.getPoint1() == iteratorEdge.getPoint1() && edge.getPoint2() == iteratorEdge.getPoint2()) || //
                    (edge.getPoint2() == iteratorEdge.getPoint2() && edge.getPoint1() == iteratorEdge.getPoint2())) {
                return;
            }
        }
        // å…©é ‚é»æ–°å¢é‚Š
        this.adjList[edge.getPoint1()].enqueue(edge);
        this.adjList[edge.getPoint2()].enqueue(edge);
        this.lineCount++;
    }

    /**
     * å–å¾—æŒ‡å®šé ‚é»çš„é‚Š
     *
     * @param point
     * @return
     */
    public T072_Queue<T166_Edge> getLineByPoint(final int point) {
        return this.adjList[point];
    }

    /**
     * å–å¾—æ‰€æœ‰é‚Š
     *
     * @return
     */
    public T072_Queue<T166_Edge> getLine() {
        final T072_Queue<T166_Edge> returnQueue = new T072_Queue<>();
        for (int i = 0; i < this.adjList.length; i++) {
            final Iterator<T166_Edge> iterator = this.adjList[i].iterator();
            while (iterator.hasNext()) {
                final T166_Edge edge = iterator.next();
                // æª¢æŸ¥é‚Šå·²ç¶“æœ‰åŠ é€²å»ï¼Œå‰‡ä¸å†é‡è¦†åŠ å…¥
                boolean hasAdded = false;
                final Iterator<T166_Edge> returnIterator = returnQueue.iterator();
                while (returnIterator.hasNext()) {
                    final T166_Edge returnEdge = returnIterator.next();
                    if ((edge.getPoint1() == returnEdge.getPoint1() && edge.getPoint2() == returnEdge.getPoint2()) || //
                            (edge.getPoint2() == returnEdge.getPoint1() && edge.getPoint1() == returnEdge.getPoint2())) {
                        hasAdded = true;
                        break;
                    }
                }
                if (hasAdded) {
                    continue;
                }
                returnQueue.enqueue(edge);
            }
        }
        return returnQueue;
    }

    @Override
    public String toString() {
        final String returnFormat = "T167_EdgeWeightGraph [\n\tpointCount=%s, \n\t" + "lineCount=%s, \n\t" + "adjList=\n%s\n]";
        final String queueFormat = "\t\t%s , T072_Queue [%s]";
        final List<String> queueStrList = new ArrayList<String>();
        for (int i = 0; i < this.adjList.length; i++) {
            final List<String> tempStrList = new ArrayList<String>();
            final Iterator<T166_Edge> iterator = this.adjList[i].iterator();
            while (iterator.hasNext()) {
                tempStrList.add(iterator.next().toString());
            }
            queueStrList.add(String.format(queueFormat, i, String.join(", ", tempStrList)));
        }
        return String.format(returnFormat, this.pointCount, this.lineCount, String.join(", \n", queueStrList));
    }
}
```

## ğŸ§ æœ€å°ç”Ÿæˆæ¨¹ Minimum Spanning Tree
1. æ‰€æœ‰é ‚é»éƒ½æ˜¯é€£é€šçš„
2. èµ·é»å’Œçµ‚é»ä¸èƒ½æ˜¯åŒä¸€å€‹(ä¸èƒ½æˆç‚ºç’°)
3. èµ·é»åˆ°çµ‚é»çš„æ¬Šé‡ç¸½å’Œæœ€å°‘å°±æ˜¯æœ€å°ç”Ÿæˆæ¨¹
4. æœ€å°ç”Ÿæˆæ¬Šé‚Šçš„æ•¸é‡ = é ‚é»æ•¸ - 1

### æ¨¹çš„æ€§è³ª
![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_06_æœ€å°ç”Ÿæˆæ¨¹.png]]
1. ç”¨ä¸€æ¢é‚Šæ¥æ¨¹ä¸­ä»»æ„å…©å€‹é ‚é»éƒ½æœƒå¾—åˆ°ä¸€å€‹ç’°
2. ä»»æ„åˆªé™¤ä¸€å€‹é‚Šï¼Œæœƒå¾—åˆ°å…©å€‹ç¨ç«‹çš„æ¨¹

### åˆ‡åˆ†å®šç†
![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_07_åˆ‡åˆ†å®šç†.png]]
- ç›¸é—œæ¦‚å¿µï¼š
	- åˆ‡åˆ†ï¼šæŠŠåœ–ä¸­é ‚é»åˆ†æˆå…©å€‹éƒ¨åˆ†
	- æ©«åˆ‡é‚Šï¼šå¦‚æœä¸€å€‹é‚Šé€£æ¥å…©å€‹é ‚é»åˆ†åˆ¥å±¬æ–¼åˆ‡åˆ†çš„å…©å€‹éƒ¨åˆ†
	- åˆ‡åˆ†å®šç†ï¼šæ©«åˆ‡é‚Šä¸­æ¬Šé‡æœ€å°çš„é‚Šå¿…é ˆå±¬æ–¼æœ€å°ç”Ÿæˆæ¨¹

### è²ªå¿ƒç®—æ³•
ä½¿ç”¨åˆ‡åˆ†å®šç†æ‰¾æœ€å°ç”Ÿæˆæ¨¹çš„ä¸€æ¢é‚Šï¼Œä¸æ–·é‡è¦†ï¼Œç›´åˆ°æ‰¾åˆ°æœ€å°ç”Ÿæˆæ¨¹çš„æ‰€æœ‰é‚Šï¼›è²ªå¿ƒç®—æ³•æ˜¯æœ€å°ç”Ÿæˆæ¨¹ç®—æ³•ä¸­çš„åŸºç¤ã€‚

![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_08_è²ªå¿ƒç®—æ³•.png]]

### Primç®—æ³•
å°‡æœ€å°ç”Ÿæˆæ¨¹ä¸­çš„é ‚é»çœ‹ä½œä¸€éƒ¨åˆ†ï¼Œè€Œä¸åœ¨æœ€å°ç”Ÿæˆæ¨¹çœ‹ä½œå¦ä¸€éƒ¨åˆ†ï¼Œæ¯å€‹æ­¥é©Ÿå°‡ä¸€å€‹é ‚é»åŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ¨¹ä¸­
![[æ•¸æ“šçµæ§‹ç®—æ³•_05_åœ–_09_Primç®—æ³•.png]]

| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                              |
| --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T172_PrimMST`                                                                                                                                                                                       |
| æ§‹é€ æ–¹æ³•  | `T172_PrimMST(final T167_EdgeWeightGraph graph)`                                                                                                                                                     |
| æˆå“¡è®Šé‡  | `private T166_Edge[] edgeToMinTree`ç´¢å¼•ä»£è¡¨é ‚é»ï¼Œå€¼ä»£è¡¨é ‚é»åˆ°æœ€å°ç”Ÿæˆæ¨¹é–“çš„æœ€çŸ­é‚Š                                                                                                                    |
| æ–¹æ³•      | `private void pushPointToMinTree(final T167_EdgeWeightGraph graph, final int point)`å°‡æŒ‡å®šé ‚é»åŠ å…¥æœ€å°ç”Ÿæˆæ¨¹ï¼Œä¸¦æ›´æ–°æˆå“¡è®Šé‡</br>`public T072_Queue<T166_Edge> getMinTreeEdge()`å–å¾—æœ€å°ç”Ÿæˆæ¨¹æ‰€æœ‰é‚Š |

```java
public class T172_PrimMST {
    // ç´¢å¼•ä»£è¡¨é ‚é»ï¼Œå€¼ä»£è¡¨é ‚é»åˆ°æœ€å°ç”Ÿæˆæ¨¹é–“çš„æœ€çŸ­é‚Š
    private T166_Edge[] edgeToMinTree;

    public T172_PrimMST(final T167_EdgeWeightGraph graph) {
        super();
        this.edgeToMinTree = new T166_Edge[graph.getPointCount()];
        // é»˜èªé ‚é»0å…ˆé€²æœ€å°ç”Ÿæˆæ¨¹
        this.edgeToMinTree[0] = new T166_Edge(0, 0, 0);
        this.pushPointToMinTree(graph, 0);
    }

    /**
     * å°‡æŒ‡å®šé ‚é»åŠ å…¥æœ€å°ç”Ÿæˆæ¨¹ï¼Œä¸¦æ›´æ–°æˆå“¡è®Šé‡
     *
     * @param graph
     * @param point
     */
    private void pushPointToMinTree(final T167_EdgeWeightGraph graph, final int point) {
        // å–å¾—èˆ‡é ‚é»ç›¸é€£çš„é‚Š
        final T113_IndexMinPriorityQueue<T166_Edge> betweenLineQueue = new T113_IndexMinPriorityQueue<>(graph.getLineCount());
        final Iterator<T166_Edge> pointIterator = graph.getLineByPoint(point).iterator();
        while (pointIterator.hasNext()) {
            final T166_Edge edge = pointIterator.next();
            // å¦‚æœå¦ä¸€å€‹é ‚é»å·²ç¶“æª¢æŸ¥éï¼Œå‰‡ä¸åŠ å…¥æª¢æŸ¥éšŠåˆ—
            if ((edge.getPoint1() == point && this.edgeToMinTree[edge.getPoint2()] != null) || //
                    (edge.getPoint2() == point && this.edgeToMinTree[edge.getPoint1()] != null)) {
                continue;
            }
            betweenLineQueue.insert((int) edge.getWeight(), edge);
        }
        // å¾æœ€å°é‚Šé–‹å§‹åŠ å…¥æœ€å°ç”Ÿæˆæ¨¹
        while (betweenLineQueue.size() != 0) {
            final T166_Edge minEdge = betweenLineQueue.getElement();
            final int otherPoint = minEdge.getPoint1() != point ? minEdge.getPoint1() : minEdge.getPoint2();
            // å¦‚æœé ‚é»å·²åŠ å…¥ç”Ÿæˆæ¨¹ï¼Œå‰‡è·³é
            if (this.edgeToMinTree[otherPoint] != null) {
                continue;
            }
            this.edgeToMinTree[otherPoint] = minEdge;
            this.pushPointToMinTree(graph, otherPoint);
        }
    }

    /**
     * å–å¾—æœ€å°ç”Ÿæˆæ¨¹æ‰€æœ‰é‚Š
     *
     * @return
     */
    public T072_Queue<T166_Edge> getMinTreeEdge() {
        final T072_Queue<T166_Edge> queue = new T072_Queue<>();
        for (final T166_Edge edge : this.edgeToMinTree) {
            queue.enqueue(edge);
        }
        return queue;
    }
}
```

### kruskalç®—æ³•
æŠŠåœ–ä¸­çš„åˆ†æˆå¤šé¡†æ¨¹ï¼Œæ¯å€‹æ­¥é©Ÿå°‡å…©é¡†æ¨¹æ¨¹é€£æˆä¸€é¡†æ¨¹

| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                              |
| --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T172_PrimMST`                                                                                                                                                                                       |
| æ§‹é€ æ–¹æ³•  | `T172_PrimMST(final T167_EdgeWeightGraph graph)`                                                                                                                                                     |
| æˆå“¡è®Šé‡  | `private T166_Edge[] edgeToMinTree`ç´¢å¼•ä»£è¡¨é ‚é»ï¼Œå€¼ä»£è¡¨é ‚é»åˆ°æœ€å°ç”Ÿæˆæ¨¹é–“çš„æœ€çŸ­é‚Š                                                                                                                    |
| æ–¹æ³•      | `private void pushPointToMinTree(final T167_EdgeWeightGraph graph, final int point)`å°‡æŒ‡å®šé ‚é»åŠ å…¥æœ€å°ç”Ÿæˆæ¨¹ï¼Œä¸¦æ›´æ–°æˆå“¡è®Šé‡</br>`public T072_Queue<T166_Edge> getMinTreeEdge()`å–å¾—æœ€å°ç”Ÿæˆæ¨¹æ‰€æœ‰é‚Š |

```java
public class T178_KruskalMST {
    // æœ€å°ç”Ÿæˆæ¨¹çš„æ‰€æœ‰é‚Š
    private T072_Queue<T166_Edge> minTree;
    // ä½¿ç”¨å¹¶æŸ¥é›†çš„æ¦‚å¿µä¾†åˆ¤æ–·å…©å€‹é ‚é»æ˜¯å¦åœ¨åŒä¸€å€‹æ¨¹ä¸­
    private T140_UnionFindTreePathless graphUnionFind;
    // åœ–ä¸­æ‰€æœ‰é‚Š
    private T110_MinPriorityQueue<T166_Edge> allLine;

    public T178_KruskalMST(final T167_EdgeWeightGraph graph) {
        super();
        this.minTree = new T072_Queue<>();
        this.graphUnionFind = new T140_UnionFindTreePathless(graph.getPointCount());
        // å„²å­˜åœ–ä¸­æ‰€æœ‰é‚Š
        this.allLine = new T110_MinPriorityQueue<>(graph.getLineCount());
        for (final T166_Edge edge : graph.getLine()) {
            this.allLine.insert(edge);
        }
        this.pushToMinTree(graph);
    }

    /**
     * ç”Ÿæˆæœ€å°ç”Ÿæˆæ¨¹
     *
     * @param graph
     */
    private void pushToMinTree(final T167_EdgeWeightGraph graph) {
        while (!this.allLine.isEmpty() || this.minTree.getLen() >= graph.getPointCount() - 1) {
            final T166_Edge edge = this.allLine.getElement();
            // å¦‚æœå…©é»åœ¨åŒä¸€é¡†æ¨¹ï¼Œå‰‡è·³é
            final int point1 = edge.getPoint1();
            final int point2 = edge.getPoint2();
            if (this.graphUnionFind.connected(point1, point2)) {
                continue;
            }
            // åŠ åˆ°æœ€å°ç”Ÿæˆæ¨¹
            this.minTree.enqueue(edge);
            // å°‡å…©é»å¹¶æˆä¸€é¡†æ¨¹
            this.graphUnionFind.doUnion(point1, point2);
        }
    }

    public T072_Queue<T166_Edge> getMinTreeEdge() {
        return this.minTree;
    }
}
```

# åŠ æ¬Šæœ‰å‘åœ–
## ğŸ§ åŠ æ¬Šæœ‰å‘é‚Šé¡
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                         |
| --------- | ----------------------------------------------------------------------------------------------- |
| é¡        | `T180_DirectedEdge`                                                                             |
| æ§‹é€ æ–¹æ³•  | `T180_DirectedEdge(final int startPoint, final int endPoint, final double weight)`              |
| æˆå“¡è®Šé‡  | `private int startPoint`èµ·é»</br>`private int endPoint`çµ‚é»</br>`private double weight`é‚Šçš„æ¬Šé‡ |
| æ–¹æ³•      | `public double getWeight()`</br>`public int getStartPoint()`</br>`public int getEndPoint()`     |

```java
public class T180_DirectedEdge {
    private int startPoint;
    private int endPoint;
    private double weight;
}
```

## ğŸ§ åŠ æ¬Šæœ‰å‘åœ–å¯¦ç¾
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                              |
| --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T167_EdgeWeightGraph`                                                                                                                                                                                                                                               |
| æ§‹é€ æ–¹æ³•  | `T167_EdgeWeightGraph(final int pointCount)`                                                                                                                                                                                                                         |
| æˆå“¡è®Šé‡  | `private int pointCount`é ‚é»æ•¸é‡</br>`private int lineCount`é‚Šæ•¸é‡</br>`private T072_Queue<T166_Edge>[] adjList`é„°æ¥è¡¨                                                                                                                                               |
| æ–¹æ³•      | `public int getPointCount()`</br>`public int getLineCount()`</br>`public void addEdge(final T166_Edge edge)`å…©é ‚é»é–“æ–°å¢é‚Š</br>`public T072_Queue<T166_Edge> getLineByPoint(final int point)`å–å¾—æŒ‡å®šé ‚é»çš„é‚Š</br>`public T072_Queue<T166_Edge> getLine()`å–å¾—æ‰€æœ‰é‚Š |

```java
public class T181_EdgeWeightDigraph {
    // é ‚é»æ•¸é‡
    private int pointCount;
    // é‚Šæ•¸é‡
    private int lineCount;
    // é„°æ¥è¡¨
    private T072_Queue<T180_DirectedEdge>[] adjList;

    public T181_EdgeWeightDigraph(final int pointCount) {
        super();
        this.pointCount = pointCount;
        this.lineCount = 0;
        this.adjList = new T072_Queue[pointCount];
        for (int i = 0; i < this.adjList.length; i++) {
            this.adjList[i] = new T072_Queue<T180_DirectedEdge>();
        }
    }

    public int getPointCount() {
        return this.pointCount;
    }

    public int getLineCount() {
        return this.lineCount;
    }

    public void addEdge(final T180_DirectedEdge edge) {
        // å…©é ‚é»å¿…é ˆåœ¨é„°æ¥è¡¨ä¸­
        if (edge.getStartPoint() >= this.adjList.length || edge.getEndPoint() >= this.adjList.length) {
            return;
        }
        // å…©é ‚é»å¿…é ˆç›¸äº’æ²’é€£æ¥
        final Iterator<T180_DirectedEdge> startIterator = this.adjList[edge.getStartPoint()].iterator();
        while (startIterator.hasNext()) {
            if (startIterator.next().getEndPoint() == edge.getEndPoint()) {
                return;
            }
        }
        // åœ¨èµ·é»æ–°å¢é‚Š
        this.adjList[edge.getStartPoint()].enqueue(edge);
        this.lineCount++;
    }

    /**
     * å–å¾—æŒ‡å®šé ‚é»çš„é‚Š
     *
     * @param point
     * @return
     */
    public T072_Queue<T180_DirectedEdge> getLineByPoint(final int point) {
        return this.adjList[point];
    }

    /**
     * å–å¾—æ‰€æœ‰é‚Š
     *
     * @return
     */
    public T072_Queue<T180_DirectedEdge> getLine() {
        final T072_Queue<T180_DirectedEdge> returnQueue = new T072_Queue<>();
        for (final T072_Queue<T180_DirectedEdge> queue : this.adjList) {
            final Iterator<T180_DirectedEdge> iterator = queue.iterator();
            while (iterator.hasNext()) {
                returnQueue.enqueue(iterator.next());
            }
        }
        return returnQueue;
    }
}
```

## ğŸ§ æœ€çŸ­è·¯å¾‘
- ç‚ºäº†ç°¡åŒ–å•é¡Œï¼Œä»¥ä¸‹åªè€ƒæ…®é€£é€šåœ–ï¼Œä¹Ÿå°±æ˜¯å…©å€‹é ‚é»ä¸€å®šåœ¨åœ–ä¸­ç›¸é€£

### é¬†å¼›æŠ€è¡“ Dijkstra
æ‰¾æŒ‡å®šé»åˆ°æ‰€æœ‰é»çš„æœ€çŸ­è·¯å¾‘ï¼Œä»¥ä¸‹åƒè€ƒï¼š
<iframe width="560" height="315" src="https://www.youtube.com/embed/NLp9C7AvJhk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                                                                                                           |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| é¡        | `T184_DijkstraMST`                                                                                                                                                                                                                                                                                                                                |
| æ§‹é€ æ–¹æ³•  | `T184_DijkstraMST(final T181_EdgeWeightDigraph graph, final int startPoint)`                                                                                                                                                                                                                                                                      |
| æˆå“¡è®Šé‡  | `private T180_DirectedEdge[] pointPreEdge`èµ·é»åˆ°æŒ‡å®šé»çš„æœ€å°è·¯å¾‘ä¸­çš„æœ€å¾Œä¸€æ¢é‚Š</br>`private double[] toPointWeight`èµ·é»åˆ°é ‚é»çš„ç¸½æ¬Šé‡                                                                                                                                                                                                             |
| æ–¹æ³•      | `private void doRelax(final T181_EdgeWeightDigraph graph, final int point)`é¬†å¼›åœ–ä¸­æŒ‡å®šé»</br>`public double getToPointWeight(final int point)`å–å¾—èµ·é»åˆ°æŒ‡å®šé»çš„ç¸½æ¬Šé‡</br>`public boolean hasPathTo(final int point)`åˆ¤æ–·èµ·é»åˆ°æŒ‡å®šé ‚é»æ˜¯å¦å¯æŠµé”</br>`public T072_Queue<T180_DirectedEdge> getPath(int point)`å–å¾—èµ·é»åˆ°æŒ‡å®šé»æœ€å°è·¯å¾‘çš„æ‰€æœ‰é‚Š |

```java
public class T184_DijkstraMST {
    // èµ·é»åˆ°æŒ‡å®šé»çš„æœ€å°è·¯å¾‘ä¸­çš„æœ€å¾Œä¸€æ¢é‚Š
    private T180_DirectedEdge[] pointPreEdge;
    // èµ·é»åˆ°é ‚é»çš„ç¸½æ¬Šé‡
    private double[] toPointWeight;

    /**
     * @param graph åŠ æ¬Šæœ‰å‘åœ–
     * @param startPoint èµ·é»
     */
    public T184_DijkstraMST(final T181_EdgeWeightDigraph graph, final int startPoint) {
        super();
        this.pointPreEdge = new T180_DirectedEdge[graph.getPointCount()];
        this.toPointWeight = new double[graph.getPointCount()];
        for (int i = 0; i < this.toPointWeight.length; i++) {
            this.toPointWeight[i] = Double.POSITIVE_INFINITY;// å¡æœ€å¤§å€¼ï¼Œä»¥ä¾¿å¾ŒçºŒæ¯”è¼ƒ
        }
        // æ‰¾åˆ°èµ·é»çš„æœ€å°è·¯å¾‘æ¨¹
        this.toPointWeight[startPoint] = 0;
        this.doRelax(graph, startPoint);
    }

    /**
     * é¬†å¼›åœ–ä¸­æŒ‡å®šé»
     *
     * @param graph
     * @param point
     */
    private void doRelax(final T181_EdgeWeightDigraph graph, final int point) {
        // å–å¾—èˆ‡é ‚é»ç›¸é€£çš„é‚Š
        for (final T180_DirectedEdge edge : graph.getLineByPoint(point)) {
            final int endPoint = edge.getEndPoint();
            // èµ·é»->ä¸­é–“é»->çµ‚é»çš„æ¬Šé‡ å°æ–¼ èµ·é»->çµ‚é»çš„æ¬Šé‡
            if (this.getToPointWeight(point) + edge.getWeight() < this.getToPointWeight(endPoint)) {
                this.toPointWeight[endPoint] = this.getToPointWeight(point) + edge.getWeight();
                this.pointPreEdge[endPoint] = edge;
                // å¦‚æœæœ€å°è·¯å¾‘é‚Šå­˜åœ¨æ¬Šé‡ï¼Œå‰‡æ›´æ–°ï¼›åä¹‹å‰‡æ–°å¢
                this.doRelax(graph, endPoint);
            }
        }
    }

    /**
     * å–å¾—èµ·é»åˆ°æŒ‡å®šé»çš„ç¸½æ¬Šé‡
     *
     * @param point
     * @return
     */
    public double getToPointWeight(final int point) {
        return this.toPointWeight[point];
    }

    /**
     * åˆ¤æ–·èµ·é»åˆ°æŒ‡å®šé ‚é»æ˜¯å¦å¯æŠµé”
     *
     * @param point
     * @return
     */
    public boolean hasPathTo(final int point) {
        return this.toPointWeight[point] < Double.POSITIVE_INFINITY;
    }

    /**
     * å–å¾—èµ·é»åˆ°æŒ‡å®šé»æœ€å°è·¯å¾‘çš„æ‰€æœ‰é‚Š
     *
     * @param point
     * @return
     */
    public T072_Queue<T180_DirectedEdge> getPath(int point) {
        final T072_Queue<T180_DirectedEdge> returnQueue = new T072_Queue<T180_DirectedEdge>();
        // èµ·é»åˆ°æŒ‡å®šé ‚é»å¿…é ˆå¯é”
        if (!this.hasPathTo(point)) {
            return returnQueue;
        }
        // å¾æŒ‡å®šé ‚é»å‘å‰æ‰¾
        while (true) {
            final T180_DirectedEdge preEdge = this.pointPreEdge[point];
            // è‹¥ç‚ºèµ·é»ï¼Œä¸Šä¸€å€‹é ‚é»ç‚ºnull
            if (preEdge == null) {
                break;
            }
            returnQueue.enqueue(preEdge);
            point = preEdge.getStartPoint();
        }
        return returnQueue;
    }
}
```
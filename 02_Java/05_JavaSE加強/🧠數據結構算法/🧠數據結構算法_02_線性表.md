# æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨
- å¸¸è¦‹è¡“èªï¼š
	- å‰é©…å…ƒç´ ï¼šç•¶å‰å…ƒç´ çš„å‰ä¸€å€‹å…ƒç´ 
	- å¾Œé©…å…ƒç´ ï¼šåä¹‹
	- é ­çµé»ï¼šç¬¬ä¸€å€‹å…ƒç´ ï¼Œ`list[0]`
	- å°¾çµé»ï¼šæœ€å¾Œä¸€å€‹å…ƒç´ ï¼Œ`list[list.lenght - 1]`
- åˆ†é¡
	- ç·šæ€§å­˜å„²-->é †åºè¡¨
	- éˆæ€§å­˜å„²-->éˆè¡¨

## ğŸ§ é †åºè¡¨ SequenceList
- é †åºè¡¨ç›¸ç•¶æ–¼æ˜¯ArrayList
- æ™‚é–“è¤‡é›œåº¦ï¼ŒæŸ¥è©¢å¿«ï¼Œå¢åˆªæ…¢
	ç”±æ–¼åº•å±¤æ˜¯ç”±æ•¸çµ„å¯¦ç¾ï¼Œå› æ­¤è‹¥æ¶‰åŠåˆ°æ“´å®¹æ“ä½œï¼Œæ™‚é–“è¤‡é›œåº¦å‰‡æœƒçªå¢
	- `get(int index)`ï¼ŒO(1)
	- `insert(int index, T element)`ï¼ŒO(n)
	- `remove(int index)`ï¼ŒO(n)

### å¯¦ç¾åŸºæœ¬åŠŸèƒ½
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                                                                                                               |
| --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| è®Šé‡      | `T[] elements`å…ƒç´ å…§å®¹</br>`int lenght`å…ƒç´ é•·åº¦                                                                                                                                                                                                                                                                                                       |
| æ§‹é€ æ–¹æ³•  | `T039_SequenceList(int size)`                                                                                                                                                                                                                                                                                                                         |
| æ–¹æ³•      | `clean()`æ¸…ç©ºé †åºè¡¨</br>`isEmply()`åˆ¤æ–·é †åºè¡¨æ˜¯å¦ç‚ºç©º</br>`getLen()`å–å¾—é †åºè¡¨çš„é•·åº¦</br>`T get(int index)`å–å¾—æŒ‡å®šç´¢å¼•å…ƒç´ </br>`insert(int index, T element)`æŒ‡å®šç´¢å¼•æ·»åŠ å…ƒç´ </br>`insert(T element)`åœ¨é †åºè¡¨æœ€å¾Œæ·»åŠ å…ƒç´ </br>`T remove(int index)`åˆªé™¤å¹¶è¿”å›é †åºè¡¨æŒ‡å®šç´¢å¼•å…ƒç´ </br>`int indexOf(T t)`è¿”å›é †åºè¡¨é¦–å€‹å‡ºç¾çš„å…ƒç´ ç´¢å¼•ï¼Œè‹¥ä¸å­˜åœ¨å‰‡è¿”å›-1 |

```java
/**
 * é †åºè¡¨
 *
 * @author 2106002
 *
 */
public class T039_SequenceList<T> implements Iterable<T> {
    // å…ƒç´ æ•¸çµ„
    private T[] elements;

    // å…ƒç´ æ•¸çµ„é•·åº¦
    private int lenght;
	
	// çœç•¥ä¸€äº›è¼ƒç°¡å–®çš„æ–¹æ³•

    /**
     * å»ºç«‹æŒ‡å®šé•·åº¦é †åºè¡¨
     *
     * @param size
     */
    public T039_SequenceList(final int size) {
        super();
        // åˆå§‹åŒ–æ•¸çµ„
        this.elements = (T[]) new Object[size];
        // åˆå§‹åŒ–é•·åº¦
        this.lenght = 0;
    }

    /**
     * æŒ‡å®šç´¢å¼•æ·»åŠ å…ƒç´ 
     *
     * @param index
     * @param element
     */
    public void insert(final int index, final T element) {
        // å¦‚æœæ·»åŠ å…ƒç´ å¾Œçš„é•·åº¦å¤§æ–¼æ•¸çµ„é•·åº¦
        if (this.elements.length < this.lenght + 1) {
            final T[] tempElements = this.elements;
            this.elements = (T[]) new Object[this.elements.length + 1];
            for (int i = 0; i < this.lenght; i++) {
                this.elements[i] = tempElements[i];
            }
        }
        // å°‡ç´¢å¼•å¾Œçš„æ‰€æœ‰å…ƒç´ å‘å¾Œç§»
        for (int i = this.lenght - 1; i >= index; i--) {
            this.elements[i + 1] = this.elements[i];
        }
        // æ·»åŠ ç´¢å¼•å…ƒç´ 
        this.elements[index] = element;
        // æ›´æ–°é•·åº¦
        this.lenght++;
    }

    /**
     * åˆªé™¤å¹¶è¿”å›é †åºè¡¨æŒ‡å®šç´¢å¼•å…ƒç´ 
     *
     * @param index
     * @return
     */
    public T remove(final int index) {
        // å–å¾—è¦è¿”å›çš„å…ƒç´ 
        final T returnElement = this.elements[index];
        // å°‡æŒ‡å®šç´¢å¼•å¾Œé¢çš„å…ƒç´ å‘å‰ç§»ï¼Œæœ€å¾Œä¸€å€‹å…ƒç´ ç‚ºç©º
        for (int i = index; i < this.lenght - 1; i++) {
            this.elements[i] = this.elements[i + 1];
        }
        this.elements[this.lenght - 1] = null;
        // æ›´æ–°é•·åº¦
        this.lenght--;
        return returnElement;
    }

    /**
     * è¿”å›é †åºè¡¨é¦–å€‹å‡ºç¾çš„å…ƒç´ ç´¢å¼•ï¼Œè‹¥ä¸å­˜åœ¨å‰‡è¿”å›-1
     *
     * @param t
     * @return
     */
    public int indexOf(final T t) {
        for (int i = 0; i < this.lenght; i++) {
            if (t.equals(this.elements[i])) {
                return i;
            }
        }
        return -1;
    }
}
```

### å¯¦ç¾éæ­·
å¯¦ç¾`Iterable<T>`ä¸¦å»ºç«‹å…§éƒ¨é¡ç¹¼æ‰¿`Iterator<T>`

```java
public class T039_SequenceList<T> implements Iterable<T> {
	// å‰ç•¥
    @Override
    public Iterator<T> iterator() {
        return new SubIterator();
    }

    private class SubIterator implements Iterator<T> {
        private int cusor;// éæ­·æŒ‡é‡

        public SubIterator() {
            super();
            this.cusor = 0;
        }

        @Override
        public boolean hasNext() {
            return T039_SequenceList.this.lenght > this.cusor;
        }

        @Override
        public T next() {
            return T039_SequenceList.this.elements[this.cusor++];
        }
    }
}
```

### å¯¦ç¾å…§å®¹å¯è®Š
```java
/**
 * é‡ç½®æ•¸çµ„é•·åº¦
 *
 * @param size
 */
private void resize(final int size) {
	final T[] tempElements = this.elements;
	this.elements = (T[]) new Object[size];
	for (int i = 0; i < this.lenght; i++) {
		if (tempElements[i] != null) {
			this.elements[i] = tempElements[i];
		}
	}
}
```

## ğŸ§ éˆè¡¨
- é›™å‘éˆè¡¨ç›¸ç•¶æ–¼LinkedList
- æ™‚é–“è¤‡é›œåº¦
	ç›¸è¼ƒæ–¼é †åºè¡¨ï¼Œé›–ç„¶å…ƒç´ å¢åˆªçš„æ™‚é–“è¤‡é›œåº¦éƒ½ä¸€æ¨£ï¼Œä½†éˆè¡¨çš„å…ƒç´ ä½ç½®æ˜¯åˆ†æ•£çš„ï¼Œæ‰€ä»¥æ²’æœ‰æ“´å®¹ä»¥åŠé ç•™ç©ºé–“çš„å•é¡Œ
	- `get(int index)`ï¼ŒO(n)
	- `insert(int index, T element)`ï¼ŒO(n)
	- `remove(int index)`ï¼ŒO(n)

### ä¸€èˆ¬éˆè¡¨
```java
public class T045_Node<T> {
	// ç¯€é»å…§å®¹å…ƒç´ 
    private T element;
	// ä¸‹ä¸€å€‹ç¯€é»
    private T045_Node<T> nextNode;

    public T045_Node(final T element, final T045_Node<T> nextNode) {
        super();
        this.element = element;
        this.nextNode = nextNode;
    }
    // Setterã€getterçœç•¥
}
```

### å–®å‘éˆè¡¨ LinkList
![æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_01_å–®å‘éˆè¡¨](https://github.com/MickeyHuang233/CodingStudyNote/blob/main/02_Java/05_JavaSE%E5%8A%A0%E5%BC%B7/%F0%9F%A7%A0%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95/images/%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95_02_%E7%B7%9A%E6%80%A7%E8%A1%A8_01_%E5%96%AE%E5%90%91%E9%8F%88%E8%A1%A8.png?raw=true)

#### å¯¦ç¾åŸºæœ¬åŠŸèƒ½
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                                                                                                         |
| --------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| è®Šé‡      | `int lenght`éˆè¡¨é•·åº¦</br>`Node<T> headNode`é¦–ç¯€é»                                                                                                                                                                                                                                                                                               |
| æ§‹é€ æ–¹æ³•  | `T046_LinkList()`                                                                                                                                                                                                                                                                                                                               |
| æ–¹æ³•      | `clean()`æ¸…ç©ºéˆè¡¨</br>`boolean isEmpty()`åˆ¤æ–·è¡¨æ˜¯å¦ç‚ºç©º</br>`int getLen()`å–å¾—éˆè¡¨é•·åº¦</br>`T get(int index)`å–å¾—æŒ‡å®šç´¢å¼•çš„å…ƒç´ </br>`insert(int index, T element)`åœ¨æŒ‡å®šç´¢å¼•æ·»åŠ å…ƒç´ </br>`insert(T element)`åœ¨æœ€å¾Œæ·»åŠ å…ƒç´ </br>`T remove(int index)`åˆªé™¤ä¸¦è¿”å›æŒ‡å®šç´¢å¼•å…ƒç´ </br>`int indexOf(T t)`è¿”å›é †åºè¡¨é¦–å€‹å‡ºç¾çš„å…ƒç´ ç´¢å¼•ï¼Œè‹¥ä¸å­˜åœ¨å‰‡è¿”å›-1 |
| å…§éƒ¨é¡    | Node\<T\></br>`T element`ç¯€é»å…§å®¹å…ƒç´ </br>`Node<T> nextNode`ä¸‹ä¸€å€‹ç¯€é»                                                                                                                                                                                                                                                                          |

```java
public class T046_LinkList<T> {
    // éˆè¡¨é•·åº¦
    private int lenght;
    // é¦–ç¯€é»
    private Node<T> headNode;
	
	// çœç•¥ä¸€äº›è¼ƒç°¡å–®çš„æ–¹æ³•

    public T046_LinkList() {
        this.lenght = 0;
        this.headNode = new Node<T>(null, null);
    }

    /**
     * åœ¨æŒ‡å®šç´¢å¼•æ·»åŠ å…ƒç´ 
     *
     * @param index
     * @param element
     */
    public void insert(final int index, final T element) {
        final Node<T> insertNode = new Node<T>(element, null);
        // åœ¨é ­ç¯€é»æ·»åŠ ï¼Œä¸éœ€è¦ä¿®æ”¹ä¸Šå€‹ç¯€é»
        if (index == 0) {
            if (this.lenght != 0) {
                insertNode.nextNode = this.headNode;
            }
            this.headNode = insertNode;
            this.lenght++;
            return;
        }
        // åœ¨ä¸­é–“çš„ç¯€é»/å°¾ç¯€é»æ·»åŠ 
        else if (0 < index && index < this.lenght) {
            int loopIndex = 0;
            // ä¸Šä¸€å€‹ç¯€é»
            Node<T> tempPreNode = this.headNode;
            // ä¸‹ä¸€å€‹ç¯€é»
            Node<T> tempPostNode = tempPreNode.nextNode;
            while (loopIndex < index - 1) {
                tempPreNode = tempPreNode.nextNode;
                tempPostNode = tempPreNode.nextNode;
                loopIndex++;
            }
            // æ›´æ–°ä¸Šä¸€å€‹ç¯€é»
            tempPreNode.nextNode = insertNode;
            // æ›´æ–°ä¸‹ä¸€å€‹ç¯€é»
            insertNode.nextNode = tempPostNode;
            this.lenght++;
        }
        // å¦‚æœè¦æ·»åŠ çš„ç´¢å¼•å¤§æ–¼é•·åº¦+1ï¼Œä¸­é–“éœ€è¦ç”¨ç©ºç¯€é»å¡«å……
        else if (index >= this.lenght) {
            // æ‰¾åˆ°æœ€å¾Œä¸€å€‹ç¯€é»
            int loopIndex = 0;
            Node<T> lestNode = this.headNode;
            while (loopIndex <= this.lenght - 2) {
                lestNode = lestNode.nextNode;
                loopIndex++;
            }
            // å¡«å……ç©ºç¯€é»
            while (loopIndex < index - 1) {
                final Node<T> nullNode = new Node<T>();
                lestNode.nextNode = nullNode;
                lestNode = lestNode.nextNode;
                this.lenght++;
                loopIndex++;
            }
            // æ·»åŠ ç´¢å¼•ç¯€é»
            lestNode.nextNode = insertNode;
            this.lenght++;
        }
    }

    /**
     * åˆªé™¤ä¸¦è¿”å›æŒ‡å®šç´¢å¼•å…ƒç´ 
     *
     * @param index
     * @return
     */
    public T remove(final int index) {
        // å®‰å…¨æ€§æª¢æ ¸
        if (index >= this.lenght) {
            throw new RuntimeException("ç´¢å¼•ä¸å¾—è¶…ééˆè¡¨æœ€å¤§ç´¢å¼•");
        }

        int loopIndex = 0;
        Node<T> tempPreNode = null;
        Node<T> tempNode = this.headNode;
        // æ‰¾åˆ°æŒ‡å®šç´¢å¼•å‰ä¸€å€‹ç¯€é»ã€ç´¢å¼•ç¯€é»
        while (loopIndex < index) {
            tempPreNode = tempNode;
            tempNode = tempPreNode.nextNode;
            loopIndex++;
        }
        if (index == 0) {
            this.headNode = tempNode.nextNode;
            tempNode.nextNode = null;
        } else {
            // æ›´æ–°ç´¢å¼•å‰ä¸€å€‹ç¯€é»
            tempPreNode.nextNode = tempNode.nextNode;
            // æ›´æ–°ç´¢å¼•ç¯€é‰¿
            tempNode.nextNode = null;
        }
        // æ›´æ–°é•·åº¦
        this.lenght--;
        return tempNode.element;
    }

    private class Node<T> {
        // ç¯€é»å…§å®¹å…ƒç´ 
        public T element;
        // ä¸‹ä¸€å€‹ç¯€é»
        public Node<T> nextNode;

        public Node() {
            this(null, null);
        }

        public Node(final T element, final Node<T> nextNode) {
            super();
            this.element = element;
            this.nextNode = nextNode;
        }

        @Override
        public String toString() {
            return "Node [element=" + this.element + "]";
        }
    }
}
```

#### å¯¦ç¾éæ­·
åšæ³•å’Œé †åºè¡¨é¡ä¼¼ï¼Œå¯¦ç¾`Iterable<T>`ä¸¦å»ºç«‹å…§éƒ¨é¡ç¹¼æ‰¿`Iterator<T>`

```java
public class T046_LinkList<T> implements Iterable<T> {
	// å‰ç•¥
	
    @Override
    public Iterator<T> iterator() {
        return new InteratorNode();
    }

    private class InteratorNode implements Iterator<T> {
        Node<T> node;

        public InteratorNode() {
            super();
            this.node = T046_LinkList.this.headNode;
        }

        @Override
        public boolean hasNext() {
            return this.node.nextNode != null;
        }

        @Override
        public T next() {
            final T returnElement = this.node.element;
            this.node = this.node.nextNode;
            return returnElement;
        }
    }
}
```

### é›™å‘éˆè¡¨ TwoWayLink
![æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_02_é›™å‘éˆè¡¨](https://github.com/MickeyHuang233/CodingStudyNote/blob/main/02_Java/05_JavaSE%E5%8A%A0%E5%BC%B7/%F0%9F%A7%A0%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95/images/%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95_02_%E7%B7%9A%E6%80%A7%E8%A1%A8_02_%E9%9B%99%E5%90%91%E9%8F%88%E8%A1%A8.png?raw=true)

#### å¯¦ç¾åŸºæœ¬åŠŸèƒ½
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                                                                                                                                                                                                                                                                                                                            |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| æ§‹é€ æ–¹æ³•  |                                                                                                                                                                                                                                                                                                                                                                                                                    |
| è®Šé‡      | `Node<T> headNode`ç”¨æ–¼æŒ‡å‘é¦–ç¯€é»</br>`Node<T> lestNode`ç”¨æ–¼æŒ‡å‘å°¾ç¯€é»</br>`int lenght`                                                                                                                                                                                                                                                                                                                             |
| æ–¹æ³•      | `clean()`æ¸…ç©ºéˆè¡¨</br>`boolean isEmpty()`åˆ¤æ–·è¡¨æ˜¯å¦ç‚ºç©º</br>`int getLen()`å–å¾—éˆè¡¨é•·åº¦</br>`T getFirst()`å–å¾—ç¬¬ä¸€å€‹å…ƒç´ </br>`T getLest()`å–å¾—æœ€å¾Œä¸€å€‹å…ƒç´ </br>`T get(int index)`å–å¾—æŒ‡å®šç´¢å¼•çš„å…ƒç´ </br>`insert(int index, T element)`åœ¨æŒ‡å®šç´¢å¼•æ·»åŠ å…ƒç´ </br>`insert(T element)`åœ¨æœ€å¾Œæ·»åŠ å…ƒç´ </br>`T remove(int index)`åˆªé™¤ä¸¦è¿”å›æŒ‡å®šç´¢å¼•å…ƒç´ </br>`int indexOf(T t)`è¿”å›é †åºè¡¨é¦–å€‹å‡ºç¾çš„å…ƒç´ ç´¢å¼•ï¼Œè‹¥ä¸å­˜åœ¨å‰‡è¿”å›-1 |
| å…§éƒ¨é¡    | Node\<T\></br>`T element`ç¯€é»å…§å®¹å…ƒç´ </br>`Node<T> preNode`ä¸Šä¸€å€‹ç¯€é»</br>`Node<T> nextNode`ä¸‹ä¸€å€‹ç¯€é»                                                                                                                                                                                                                                                                                                             |

```java
public class T049_TwoWayLink<T> {
    // ç”¨æ–¼æŒ‡å‘é¦–ç¯€é»
    private Node<T> headNode;

    // ç”¨æ–¼æŒ‡å‘å°¾ç¯€é»
    private Node<T> lestNode;

    private int lenght;
	
	// çœç•¥ä¸€äº›è¼ƒç°¡å–®çš„æ–¹æ³•

    public T049_TwoWayLink() {
        super();
        clear();
    }

    /**
     * æ¸…ç©ºéˆè¡¨
     */
    public void clear() {
        this.headNode = new Node<T>();
        this.lestNode = new Node<T>();
        this.lenght = 0;
    }

    /**
     * åœ¨æŒ‡å®šç´¢å¼•æ·»åŠ å…ƒç´ 
     *
     * @param index
     * @param element
     */
    public void insert(final int index, final T element) {
        final Node<T> insertNode = new Node<T>(element);
        Node<T> preNode = this.headNode;
        Node<T> nextNode = preNode.nextNode;
        if (index <= this.lenght) {
            // æ‰¾åˆ°ç´¢å¼•ç¯€é»
            for (int i = 0; i < index; i++) {
                preNode = preNode.nextNode;
                nextNode = preNode.nextNode;
            }
            // æ›´æ–°ç¯€é»
            preNode.nextNode = insertNode;
            insertNode.preNode = preNode;
            // åœ¨éˆè¡¨ä¸­é–“æ·»åŠ 
            if (index != this.lenght) {
                insertNode.nextNode = nextNode;
                nextNode.preNode = insertNode;
            }
            // åœ¨é€£è¡¨å°¾ç«¯æ·»åŠ 
            else {
                this.lestNode.preNode = insertNode;
            }
            this.lenght++;
        }
        // å¦‚æœè¦æ·»åŠ çš„ç´¢å¼•å¤§æ–¼é•·åº¦+1ï¼Œä¸­é–“éœ€è¦ç”¨ç©ºç¯€é»å¡«å……
        else {
            Node<T> node = this.headNode;
            // æ‰¾åˆ°å°¾ç¯€é»
            while (node.nextNode != null) {
                node = node.nextNode;
            }
            // å¡«å……ç©ºç¯€é»
            for (int loopIndex = this.lenght; loopIndex < index; loopIndex++) {
                final Node<T> nullNode = new Node<T>(null, node, null);
                node.nextNode = nullNode;
                node = node.nextNode;
                this.lenght++;
            }
            // æ·»åŠ ç´¢å¼•ç¯€é»
            node.nextNode = insertNode;
            insertNode.preNode = node;
            this.lenght++;
        }
    }

    /**
     * åˆªé™¤ä¸¦è¿”å›æŒ‡å®šç´¢å¼•å…ƒç´ 
     *
     * @return
     */
    public T remove(final int index) {
        // å®‰å…¨æ€§æ ¡æª¢
        if (index >= this.lenght) {
            throw new RuntimeException("ç´¢å¼•ä¸å¾—è¶…ééˆè¡¨æœ€å¤§ç´¢å¼•");
        }
        // æ‰¾åˆ°ç´¢å¼•ç¯€é»
        Node<T> delNode = this.headNode;
        Node<T> preNode = delNode.preNode;
        Node<T> nextNode = delNode.nextNode;
        for (int loopIndex = 0; loopIndex <= index; loopIndex++) {
            delNode = delNode.nextNode;
            preNode = delNode.preNode;
            nextNode = delNode.nextNode;
        }
        preNode.nextNode = nextNode;
        // åœ¨éˆè¡¨ä¸­é–“æ·»åŠ 
        if (index != this.lenght - 1) {
            nextNode.preNode = preNode;
        }
        // åœ¨é€£è¡¨å°¾ç«¯æ·»åŠ 
        else {
            this.lestNode.preNode = preNode;
        }
        this.lenght--;
        return delNode.element;
    }

    private class Node<T> {
        T element;
        Node<T> preNode;
        Node<T> nextNode;

        public Node() {
            this(null, null, null);
        }

        public Node(final T element) {
            this(element, null, null);
        }

        public Node(final T element, final Node<T> preNode, final Node<T> nextNode) {
            super();
            this.element = element;
            this.preNode = preNode;
            this.nextNode = nextNode;
        }
    }
}
```

#### å¯¦ç¾éæ­·
æ–¹æ³•å’Œå–®å‘éˆè¡¨ä¸€æ¨£ï¼Œç­†è¨˜çœç•¥

### é–‹ç™¼æ‡‰ç”¨
#### éˆè¡¨åè½‰
![æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_03_éˆè¡¨åè½‰](https://github.com/MickeyHuang233/CodingStudyNote/blob/main/02_Java/05_JavaSE%E5%8A%A0%E5%BC%B7/%F0%9F%A7%A0%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95/images/%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95_02_%E7%B7%9A%E6%80%A7%E8%A1%A8_03_%E9%8F%88%E8%A1%A8%E5%8F%8D%E8%BD%89.png?raw=true)

- `reverse()`ï¼Œå°‡éˆè¡¨æ‰€æœ‰å…ƒç´ åè½‰
- `Node reverse(Node node)`ï¼Œåè½‰æŒ‡å®šç¯€é»ï¼Œä¸¦è¿”å›åè½‰å¾Œçš„ç¯€é»

```java
/**
 * åè½‰æ•´å€‹éˆè¡¨
 */
public void reverse() {
	// è‹¥éˆè¡¨ç‚ºç©ºï¼Œå‰‡ä¸éœ€åè½‰
	if (this.isEmpty()) {
		return;
	}
	reverse(this.headNode);
}

/**
 * åè½‰æŒ‡å®šç¯€é»
 *
 * @param preNode
 * @return
 */
public Node<T> reverse(final Node<T> preNode) {
	final Node<T> node = preNode.nextNode;
	// å¦‚æœæ˜¯æœ€å¾Œä¸€å€‹å…ƒç´ 
	if (node.nextNode == null) {
		node.nextNode = preNode;
		// æ›´æ–°é¦–ç¯€é»
		this.headNode = node;
	} else {
		reverse(node).nextNode = preNode;
	}
	// å…ˆé è¨­ç‚ºnull
	preNode.nextNode = null;
	return preNode;
}
```

#### å¿«æ…¢æŒ‡é‡
å¿«æ…¢æŒ‡é‡æŒ‡å®šç¾©å…©å€‹ç§»å‹•é€Ÿåº¦ä¸€å¿«ä¸€æ…¢çš„æŒ‡é‡(ç´¢å¼•)ï¼›ä¸€èˆ¬æƒ…æ³ï¼Œå¿«æŒ‡é‡çš„ç§»å‹•æ­¥é•·ç‚ºæ…¢æŒ‡é‡çš„å…©å€ï¼Œå®ƒå¯ä»¥è§£æ±ºä»¥ä¸‹å•é¡Œï¼š
- ä¸­é–“å€¼å•é¡Œ
	![æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_04_å¿«æ…¢æŒ‡é‡ä¸­é–“å€¼å•é¡Œ](https://github.com/MickeyHuang233/CodingStudyNote/blob/main/02_Java/05_JavaSE%E5%8A%A0%E5%BC%B7/%F0%9F%A7%A0%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95/images/%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95_02_%E7%B7%9A%E6%80%A7%E8%A1%A8_04_%E5%BF%AB%E6%85%A2%E6%8C%87%E9%87%9D%E4%B8%AD%E9%96%93%E5%80%BC%E5%95%8F%E9%A1%8C.png?raw=true)
	```java
	/**
	 * å¿«æ…¢æŒ‡é‡_ä¸­é–“å€¼å•é¡Œ
	 *
	 * @return
	 */
	public T getMid() {
		if (this.isEmpty()) {
			return null;
		}

		Node<T> fastNode = this.headNode;
		Node<T> slowNode = this.headNode;
		while (fastNode.nextNode != null && fastNode.nextNode.nextNode != null) {
			fastNode = fastNode.nextNode.nextNode;
			slowNode = slowNode.nextNode;
		}
		return slowNode.element;
	}
	```
- å–®å‘éˆè¡¨æ˜¯å¦æœ‰ç’°å•é¡Œ
	![æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_05_å¿«æ…¢æŒ‡é‡æœ‰ç’°å•é¡Œ](https://github.com/MickeyHuang233/CodingStudyNote/blob/main/02_Java/05_JavaSE%E5%8A%A0%E5%BC%B7/%F0%9F%A7%A0%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95/images/%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95_02_%E7%B7%9A%E6%80%A7%E8%A1%A8_05_%E5%BF%AB%E6%85%A2%E6%8C%87%E9%87%9D%E6%9C%89%E7%92%B0%E5%95%8F%E9%A1%8C.png?raw=true)
	```java
	@Test
	@DisplayName("å–®å‘éˆè¡¨_å¿«æ…¢æŒ‡é‡_å–®å‘éˆè¡¨æ˜¯å¦æœ‰ç’°å•é¡Œ")
	public void testcase07() {
		final T045_Node<T011_Student> node01 = new T045_Node<T011_Student>(new T011_Student("Mickey", 233));
		final T045_Node<T011_Student> node02 = new T045_Node<T011_Student>(new T011_Student("Tai", 123));
		final T045_Node<T011_Student> node03 = new T045_Node<T011_Student>(new T011_Student("Jack", 299));
		final T045_Node<T011_Student> node04 = new T045_Node<T011_Student>(new T011_Student("Molly", 222));
		final T045_Node<T011_Student> node05 = new T045_Node<T011_Student>(new T011_Student("Maple", 111));
		final T045_Node<T011_Student> node06 = new T045_Node<T011_Student>(new T011_Student("Adam", 555));
		node01.setNextNode(node02);
		node02.setNextNode(node03);
		node03.setNextNode(node04);
		node04.setNextNode(node05);
		node05.setNextNode(node06);
		node06.setNextNode(node03);// éˆè¡¨æœ‰ç’°
		System.out.println("æœ‰ç’°å•é¡Œ : " + this.checkCircleList(node01));
	}

	/**
	 * æª¢æŸ¥å–®å‘éˆè¡¨æ˜¯å¦æœ‰ç’°å•é¡Œ
	 *
	 * @param <T>
	 *
	 * @return
	 */
	public <T> boolean checkCircleList(final T045_Node<T> node) {
		T045_Node<T> fastNode = node;
		T045_Node<T> slowNode = node;
		// å¿«æ…¢æŒ‡é‡æŒ‡å‘åŒä¸€ç¯€é»ï¼Œä»£è¡¨éˆè¡¨æœ‰ç’°
		while (fastNode.getNextNode() != null && fastNode.getNextNode().getNextNode() != null) {
			fastNode = fastNode.getNextNode().getNextNode();
			slowNode = slowNode.getNextNode();
			if (fastNode.equals(slowNode)) {
				return true;
			}
		}
		return false;
	}
	```
- æœ‰ç’°éˆè¡¨å…¥å£å•é¡Œ
	```java
	@Test
	@DisplayName("å–®å‘éˆè¡¨_å¿«æ…¢æŒ‡é‡_æœ‰ç’°éˆè¡¨å…¥å£å•é¡Œ")
	public void testcase08() {
		final T045_Node<T011_Student> node01 = new T045_Node<T011_Student>(new T011_Student("Mickey", 233));
		final T045_Node<T011_Student> node02 = new T045_Node<T011_Student>(new T011_Student("Tai", 123));
		final T045_Node<T011_Student> node03 = new T045_Node<T011_Student>(new T011_Student("Jack", 299));
		final T045_Node<T011_Student> node04 = new T045_Node<T011_Student>(new T011_Student("Molly", 222));
		final T045_Node<T011_Student> node05 = new T045_Node<T011_Student>(new T011_Student("Maple", 111));
		final T045_Node<T011_Student> node06 = new T045_Node<T011_Student>(new T011_Student("Adam", 555));
		node01.setNextNode(node02);
		node02.setNextNode(node03);
		node03.setNextNode(node04);
		node04.setNextNode(node05);
		node05.setNextNode(node06);
		node06.setNextNode(node03);// éˆè¡¨æœ‰ç’°
		System.out.println("æœ‰ç’°éˆè¡¨å…¥å£å•é¡Œ : " + this.getCircleEntrance(node01).getElement().toString());
	}

	/**
	 * å–å¾—æœ‰ç’°éˆè¡¨å…¥å£
	 *
	 * @param <T>
	 * @param node
	 * @return
	 */
	public <T> T045_Node<T> getCircleEntrance(final T045_Node<T> node) {
		T045_Node<T> fastNode = node;
		T045_Node<T> slowNode = node;
		// å¿«æ…¢æŒ‡é‡æŒ‡å‘åŒä¸€ç¯€é»ï¼Œä»£è¡¨éˆè¡¨æœ‰ç’°
		while (fastNode.getNextNode() != null && fastNode.getNextNode().getNextNode() != null) {
			fastNode = fastNode.getNextNode().getNextNode();
			slowNode = slowNode.getNextNode();
			if (fastNode.equals(slowNode)) {
				T045_Node<T> entranceNode = node;
				while (true) {
					if (entranceNode.equals(slowNode)) {
						return entranceNode;
					}
					entranceNode = entranceNode.getNextNode();
					slowNode = slowNode.getNextNode();
				}
			}
		}
		return null;
	}
	```

#### å¾ªç’°éˆè¡¨
![æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_06_å¾ªç’°éˆè¡¨](https://github.com/MickeyHuang233/CodingStudyNote/blob/main/02_Java/05_JavaSE%E5%8A%A0%E5%BC%B7/%F0%9F%A7%A0%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95/images/%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95_02_%E7%B7%9A%E6%80%A7%E8%A1%A8_06_%E5%BE%AA%E7%92%B0%E9%8F%88%E8%A1%A8.png?raw=true)

#### ç´„ç‘Ÿå¤«å•é¡Œ
[JosephusProblemä»‹ç´¹](https://openhome.cc/Gossip/AlgorithmGossip/JosephusProblem.htm)

![æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_07_ç´„ç‘Ÿå¤«å•é¡Œ](https://github.com/MickeyHuang233/CodingStudyNote/blob/main/02_Java/05_JavaSE%E5%8A%A0%E5%BC%B7/%F0%9F%A7%A0%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95/images/%E6%95%B8%E6%93%9A%E7%B5%90%E6%A7%8B%E7%AE%97%E6%B3%95_02_%E7%B7%9A%E6%80%A7%E8%A1%A8_07_%E7%B4%84%E7%91%9F%E5%A4%AB%E5%95%8F%E9%A1%8C.png?raw=true)

```java
@Test
@DisplayName("ç´„ç‘Ÿå¤«å•é¡Œ")
public void testcase09() {
	// å»ºç«‹41å€‹å¾ªç’°éˆè¡¨ç¯€é»
	T045_Node<Integer> lastNode = null;
	T045_Node<Integer> node = null;
	for (int i = 41; i > 0; i--) {
		if (i == 41) {
			lastNode = new T045_Node<Integer>(i, node);
			node = lastNode;
		} else {
			node = new T045_Node<Integer>(i, node);
		}
	}
	lastNode.setNextNode(node);

	// è§£æ±ºç´„ç‘Ÿå¤«å•é¡Œ
	int count = 0;// å ±æ•¸å™¨
	int index = 1;// æ·˜æ±°æ¬¡æ•¸
	T045_Node<Integer> preNode = lastNode;
	while (node.getNextNode() != null && index <= 41) {
		count++;
		if (count == 1) {
		}
		// å ±æ•¸ç‚º3æ™‚ï¼Œæ·˜æ±°ç¯€é»ï¼Œä¸¦é‡ç½®å ±æ•¸å™¨
		else if (count == 3) {
			preNode = preNode.getNextNode();
			node = preNode.getNextNode();
			System.out.println("æ·˜æ±°æ¬¡æ•¸ï¼š" + index + "\tæ·˜æ±°ç¯€é»ï¼š" + node.getElement().toString());
			// æ·˜æ±°ç¯€é»
			preNode.setNextNode(node.getNextNode());
			node = preNode.getNextNode();
			index++;
			count = 0;
		} else {
			preNode = preNode.getNextNode();
			node = preNode.getNextNode();
		}
	}
}
```

## ğŸ§ æ£§ Stack
å…ˆé€²å¾Œå‡º(FILO)
![[æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_08_æ£§.png]]

### å¯¦ç¾åŸºæœ¬åŠŸèƒ½
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                      |
| --------- | -------------------------------------------------------------------------------------------- |
| æ§‹é€ æ–¹æ³•  | `T066_Stack()`                                                                               |
| è®Šé‡      | `Node<T> headNode`é¦–çµé»ï¼Œåƒ…ç”¨æ–¼æŒ‡å‘ç¬¬ä¸€å€‹ç¯€é»</br>`int lenght`ç•¶å‰æ£§å…ƒç´ å€‹æ•¸                |
| æ–¹æ³•      | `T pop()`å½ˆå‡ºæ£§é ‚å…ƒç´ </br>`push(final T element)`å‘æ£§å£“å…¥å…ƒç´ </br>`isEmpty()`</br>`getLen()` |
| å…§éƒ¨é¡    | Node\<T\>                                                                                    |

```java
public class T066_Stack<T> {
    // é¦–çµé»ï¼Œåƒ…ç”¨æ–¼æŒ‡å‘ç¬¬ä¸€å€‹ç¯€é»
    private Node<T> headNode;

    // ç•¶å‰æ£§å…ƒç´ å€‹æ•¸
    private int lenght;
	
	// çœç•¥ä¸€äº›è¼ƒç°¡å–®çš„æ–¹æ³•

    /**
     * å½ˆå‡ºæ£§é ‚å…ƒç´ 
     *
     * @return
     */
    public T pop() {
        if (this.isEmpty()) {
            return null;
        }
        // æ‰¾åˆ°é¦–ç¯€é»ä¸‹ä¸€å€‹ç¯€é»
        final Node<T> node = this.headNode.nextNode;
        // åˆªé™¤ç¯€é»
        Node<T> nextNode = node;
        // å¦‚æœæœ‰å¤šå€‹æ£§å…ƒç´ ï¼Œæ›´æ–°ä¸‹å€‹ç¯€é»
        if (node.nextNode != null) {
            nextNode = node.nextNode;
        }
        this.headNode.nextNode = nextNode;
        this.lenght--;
        return node.element;
    }

    /**
     * å‘æ£§å£“å…¥å…ƒç´ 
     *
     * @param element
     */
    public void push(final T element) {
        if (this.isEmpty()) {
            this.headNode.nextNode = new Node<T>(element, null);
        } else {
            // æ‰¾åˆ°é¦–ç¯€é»ä¸‹ä¸€å€‹ç¯€é»
            final Node<T> nextNode = this.headNode.nextNode;
            // æ–°å¢æ£§å…ƒç´ 
            this.headNode.nextNode = new Node<T>(element, nextNode);
        }
        this.lenght++;
    }

    class Node<T> {
        public T element;
        public Node<T> nextNode;

        public Node(final T element, final Node<T> nextNode) {
            super();
            this.element = element;
            this.nextNode = nextNode;
        }
    }
}
```

### å¯¦ç¾éæ­·
æ–¹æ³•å’Œå–®å‘éˆè¡¨ä¸€æ¨£ï¼Œç­†è¨˜çœç•¥

### æ‹¬è™ŸåŒ¹é…å•é¡Œ
å·¦å³æ‹¬è™Ÿæˆå°å‡ºç¾

```java
@Test
@DisplayName("æ£§_æ‹¬è™ŸåŒ¹é…å•é¡Œ")
public void testcase11() {
	final String testStr = "((æ¸¬è©¦)(å­—ä¸²))";
	final T066_Stack<String> stack = new T066_Stack<String>();
	boolean check = true;
	// å°‡æ¯å€‹å­—å…ƒåŠ å…¥æ£§
	for (final char c : testStr.toCharArray()) {
		final String str = String.valueOf(c);
		if (str.matches("\\(")) {
			stack.push(str);
		} else if (str.matches("\\)")) {
			if (stack.pop() == null) {
				check = false;
				break;
			}
		}
	}
	if (!stack.isEmpty()) {
		check = false;
	}

	System.out.println("æ‹¬è™ŸåŒ¹é…ï¼Œæª¢æŸ¥çµæœç‚ºï¼š" + check);
}
```
	
### é€†æ³¢è˜­è¡¨é”å¼
- ä¸­ç¶´è¡¨é”å¼ï¼šäºŒå…ƒé‹ç®—ç¬¦ç¸½ç½®æ–¼å…©å€‹æ•¸ä¸­é–“ï¼Œå¦‚a+b
- [é€†æ³¢è˜­è¡¨é”å¼](https://zh.wikipedia.org/zh-tw/%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E7%A4%BA%E6%B3%95)(å¾Œç¶´è¡¨é”å¼)ï¼šé‹ç®—ç¬¦æ”¾åœ¨ç›¸é—œæ•¸å¾Œé¢

| ä¸­ç¶´è¡¨é”å¼  | é€†æ³¢è˜­è¡¨é”å¼ |
| ----------- | ------------ |
| `a+b`       | `ab+`        |
| `a+(b-c)`   | `abc-+`      |
| `a+(b-c)*d` | `abc-d*+`    |
| `a*(b-c)+d` | `abc-*d+`    |

```java
@Test
@DisplayName("æ£§_é€†æ³¢è˜­è¡¨é”å¼")
public void testcase12() {
	// å¾Œç¶´è¡¨é”å¼ç‚ºï¼š3 * (17 - 15) + 18 / 6
	final String[] testStrs = { "3", "17", "15", "-", "*", "18", "6", "/", "+" };
	final T066_Stack<Integer> stack = new T066_Stack<Integer>();
	for (final String str : testStrs) {
		// è‹¥ç‚ºæ•¸å­—ï¼Œå‰‡å­˜å…¥æ£§ä¸­
		if (str.matches("[1-9]*")) {
			stack.push(Integer.valueOf(str));
		}
		// è‹¥ç‚ºé‹ç®—ç¬¦ï¼Œå‰‡æ‹¿å‡ºæ£§ä¸­å…©å€‹æ•¸è¨ˆç®—å†æ”¾å›
		else if (str.matches("[\\+\\-\\*\\/]")) {
			// è‹¥æ£§é•·åº¦å°æ–¼2ï¼Œä»£è¡¨æ²’æœ‰è¶³å¤ çš„æ•¸å­—é€²è¡Œé‹ç®—
			if (stack.getLen() < 2) {
				throw new RuntimeException("æ£§ä¸­ç„¡è¶³å¤ æ•¸å­—é‹ç®—");
			}
			final int j = stack.pop();
			final int i = stack.pop();
			if (str.equals("+")) {
				stack.push(i + j);
			} else if (str.equals("-")) {
				stack.push(i - j);
			} else if (str.equals("*")) {
				stack.push(i * j);
			} else {
				stack.push(i / j);
			}
		}
	}
	// æœ€å¾Œä¸€å€‹æ£§å…ƒç´ å°±æ˜¯é‹ç®—çµæœ
	if (stack.getLen() != 1) {
		throw new RuntimeException("é‹ç®—çµæœæœ‰ä¸”åªæœ‰ä¸€å€‹");
	}
	System.out.println("é‹ç®—çµæœç‚ºï¼š" + stack.pop());
}
```

## ğŸ§ éšŠåˆ— Queue
![[æ•¸æ“šçµæ§‹ç®—æ³•_02_ç·šæ€§è¡¨_08_éšŠåˆ—.png]]
å…ˆé€²å…ˆå‡º(FIFO)

### å¯¦ç¾åŸºæœ¬åŠŸèƒ½
| è®Šé‡/æ–¹æ³• | APIè¨­è¨ˆ                                                                                                            |
| --------- | ------------------------------------------------------------------------------------------------------------------ |
| æ§‹é€ æ–¹æ³•  | `T066_Stack()`                                                                                                     |
| è®Šé‡      | `Node<T> headNode`é¦–çµé»ï¼Œåƒ…ç”¨æ–¼æŒ‡å‘ç¬¬ä¸€å€‹ç¯€é»</br>`Node<T> lestNode`ç”¨æ–¼æŒ‡å‘å°¾ç¯€é»</br>`int lenght`ç•¶å‰æ£§å…ƒç´ å€‹æ•¸ |
| æ–¹æ³•      | `enqueue(T element)`å¾€éšŠåˆ—ä¸­æ’å…¥å…ƒç´ </br>`T dequeue()`å¾éšŠåˆ—ä¸­å–å¾—å…ƒç´ </br>`isEmpty()`</br>`getLen()`              |
| å…§éƒ¨é¡    | Node\<T\>                                                                                                          |

```java
public class T072_Queue<T> {
    private Node<T> headNode;
    private Node<T> lastNode;
    private int lenght;

	// çœç•¥ä¸€äº›è¼ƒç°¡å–®çš„æ–¹æ³•
	
    /**
     * å¾€éšŠåˆ—ä¸­æ’å…¥å…ƒç´ 
     *
     * @param element
     */
    public void enqueue(final T element) {
        final Node<T> oleHeadNode = this.headNode.nextNode;
        final Node<T> newHeadNode = new Node<T>(element, oleHeadNode, null);
        this.headNode.nextNode = newHeadNode;
        // è‹¥åŸæœ¬éšŠåˆ—ä¸­ç„¡å…ƒç´ 
        if (oleHeadNode == null) {
            this.lastNode.preNode = newHeadNode;
        } else {
            oleHeadNode.preNode = newHeadNode;
        }
        this.lenght++;
    }

    /**
     * å¾éšŠåˆ—ä¸­å–å¾—å…ƒç´ 
     *
     * @return
     */
    public T dequeue() {
        if (this.isEmpty()) {
            return null;
        }
        final Node<T> returnNode = this.lastNode.preNode;
        this.lastNode.preNode = returnNode.preNode;
        // è‹¥éšŠåˆ—ä¸­åƒ…å‰©ä¸€å€‹å…ƒç´ 
        if (this.headNode.nextNode.equals(returnNode)) {
            this.headNode.nextNode = null;
        }
        this.lenght--;
        return returnNode.element;
    }

    class Node<T> {
        public T element;
        public Node<T> nextNode;
        public Node<T> preNode;

        public Node(final T element) {
            this(element, null, null);
        }

        public Node(final T element, final Node<T> nextNode, final Node<T> preNode) {
            super();
            this.element = element;
            this.nextNode = nextNode;
            this.preNode = preNode;
        }
    }
}
```

### å¯¦ç¾éæ­·
æ–¹æ³•å’Œå–®å‘éˆè¡¨ä¸€æ¨£ï¼Œç­†è¨˜çœç•¥